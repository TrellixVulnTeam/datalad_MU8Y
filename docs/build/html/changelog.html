<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Change log &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Acknowledgments" href="acknowledgements.html" />
    <link rel="prev" title="DataLad — data management and publication multitool" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DataLad
            <img src="_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Change log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sat-oct-30-2021">0.15.3 (Sat Oct 30 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bug-fix">Bug Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pushed-to-maint">Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal">Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors-7">Authors: 7</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wed-oct-06-2021">0.15.2 (Wed Oct 06 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bug-fix-1">Bug Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests-1">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors-5">Authors: 5</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fri-sep-24-2021">0.15.1 (Fri Sep 24 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bug-fix-2">Bug Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pushed-to-maint-1">Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-1">Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation-1">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests-2">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors-3">Authors: 3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tue-sep-14-2021-we-miss-you-kyle">0.15.0 (Tue Sep 14 2021) – We miss you Kyle!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features">Enhancements and new features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#deprecations-and-removals">Deprecations and removals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fixes">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests-3">Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sun-sep-12-2021">0.14.8 (Sun Sep 12 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bug-fix-3">Bug Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pushed-to-maint-2">Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-2">Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests-4">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors-4">Authors: 4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tue-aug-03-2021">0.14.7 (Tue Aug 03 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bug-fix-4">Bug Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-3">Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests-5">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors-4-1">Authors: 4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sun-jun-27-2021">0.14.6 (Sun Jun 27 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#internal-4">Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors-2">Authors: 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mon-jun-21-2021">0.14.5 (Mon Jun 21 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bug-fix-5">Bug Fix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pushed-to-maint-3">Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-5">Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests-6">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors-4-2">Authors: 4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#may-10-2021">0.14.4 (May 10, 2021) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-1">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#april-28-2021">0.14.3 (April 28, 2021) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-2">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-1">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#april-14-2021">0.14.2 (April 14, 2021) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-3">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#april-01-2021">0.14.1 (April 01, 2021) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-4">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-2">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#february-02-2021">0.14.0 (February 02, 2021) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-5">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-3">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#january-04-2021">0.13.7 (January 04, 2021) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-6">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-4">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#december-14-2020">0.13.6 (December 14, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-7">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-5">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#october-30-2020">0.13.5 (October 30, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-8">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-6">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#october-6-2020">0.13.4 (October 6, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-9">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-7">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#august-28-2020">0.13.3 (August 28, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-10">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-8">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#august-10-2020">0.13.2 (August 10, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-11">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements">Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#july-17-2020">0.13.1 (July 17, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-12">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-9">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#june-23-2020">0.13.0 (June 23, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-1">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-13">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-10">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#may-22-2020">0.12.7 (May 22, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-14">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-11">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#april-23-2020">0.12.6 (April 23, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-2">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-15">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-12">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apr-02-2020-a-small-step-for-datalad">0.12.5 (Apr 02, 2020) – a small step for datalad …</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-16">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mar-19-2020-windows">0.12.4 (Mar 19, 2020) – Windows?!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-17">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#march-16-2020">0.12.3 (March 16, 2020) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-3">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-18">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-13">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jan-28-2020-smoothen-the-ride">0.12.2 (Jan 28, 2020) – Smoothen the ride</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-4">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-19">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-14">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jan-15-2020-small-bump-after-big-bang">0.12.1 (Jan 15, 2020) – Small bump after big bang</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-20">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jan-11-2020-krakatoa">0.12.0 (Jan 11, 2020) – Krakatoa</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-changes-0-12-vs-0-11">Major changes 0.12 vs 0.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-since-0-12-0rc6">Major refactoring and deprecations since 0.12.0rc6</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-since-0-12-0rc6">Fixes since 0.12.0rc6</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-since-0-12-0rc6">Enhancements and new features since 0.12.0rc6</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rc6-oct-19-2019-some-releases-are-better-than-the-others">0.12.0rc6 (Oct 19, 2019) – some releases are better than the others</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-5">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-21">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-15">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rc5-september-04-2019">0.12.0rc5 (September 04, 2019) – .</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-6">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-22">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-16">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rc4-may-15-2019-the-revolution-is-over">0.12.0rc4 (May 15, 2019) – the revolution is over</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-7">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-23">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-17">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rc3-may-07-2019-the-revolution-continues">0.12.0rc3 (May 07, 2019) – the revolution continues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-8">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-24">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-18">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rc2-mar-18-2019-revolution">0.12.0rc2 (Mar 18, 2019) – revolution!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-25">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-19">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rc1-mar-03-2019-to-boldly-go">0.12.0rc1 (Mar 03, 2019) – to boldly go …</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-9">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-20">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#oct-11-2019-annex-we-are-catching-up">0.11.8 (Oct 11, 2019) – annex-we-are-catching-up</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-26">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-21">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sep-06-2019-python2-we-still-love-you-but">0.11.7 (Sep 06, 2019) – python2-we-still-love-you-but-…</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-27">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-22">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jul-30-2019-am-i-the-last-of-0-11-x">0.11.6 (Jul 30, 2019) – am I the last of 0.11.x?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-28">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-23">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#may-23-2019-stability-is-not-overrated">0.11.5 (May 23, 2019) – stability is not overrated</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-29">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-24">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mar-18-2019-get-ready">0.11.4 (Mar 18, 2019) – get-ready</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#important">Important</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-30">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-25">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#feb-19-2019-read-me-gently">0.11.3 (Feb 19, 2019) – read-me-gently</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-31">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-26">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#feb-07-2019-live-long-and-prosper">0.11.2 (Feb 07, 2019) – live-long-and-prosper</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-10">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-32">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-27">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nov-26-2018-v7-better-than-v6">0.11.1 (Nov 26, 2018) – v7-better-than-v6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-33">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-28">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#oct-23-2018-soon-to-be-perfect">0.11.0 (Oct 23, 2018) – Soon-to-be-perfect</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-11">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minor-refactoring">Minor refactoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-34">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-29">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sep-13-2018-nothing-is-perfect">0.10.3.1 (Sep 13, 2018) – Nothing-is-perfect</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sep-13-2018-almost-perfect">0.10.3 (Sep 13, 2018) – Almost-perfect</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-35">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-30">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jul-09-2018-thesecuriestever">0.10.2 (Jul 09, 2018) – Thesecuriestever</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-36">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-31">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jun-17-2018-ohbm-polish">0.10.1 (Jun 17, 2018) – OHBM polish</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-37">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jun-09-2018-the-release">0.10.0 (Jun 09, 2018) – The Release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-12">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-38">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-32">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mar-16-2018-pi-0-02-release">0.9.3 (Mar 16, 2018) – pi+0.02 release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-39">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-33">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mar-04-2018-it-is-again-better-than-ever">0.9.2 (Mar 04, 2018) – it is (again) better than ever</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-40">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-34">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#oct-01-2017-datalad-jbtm">0.9.1 (Oct 01, 2017) – “DATALAD!”(JBTM)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-41">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sep-19-2017-isnt-it-a-lucky-day-even-though-not-a-friday">0.9.0 (Sep 19, 2017) – isn’t it a lucky day even though not a Friday?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-13">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-42">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-35">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#aug-13-2017-the-best-birthday-gift">0.8.1 (Aug 13, 2017) – the best birthday gift</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-43">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-36">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jul-31-2017-it-is-better-than-ever">0.8.0 (Jul 31, 2017) – it is better than ever</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-44">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-37">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jun-25-2017-when-it-works-it-is-quite-awesome">0.7.0 (Jun 25, 2017) – when it works - it is quite awesome!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-14">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-38">Enhancements and new features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-45">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jun-14-2017-german-perfectionism">0.6.0 (Jun 14, 2017) – German perfectionism</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-refactoring-and-deprecations-15">Major refactoring and deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-46">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-39">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mar-25-2017-cannot-stop-the-progress">0.5.1 (Mar 25, 2017) – cannot stop the progress</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-47">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-40">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mar-20-2017-its-huge">0.5.0 (Mar 20, 2017) – it’s huge</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#most-notable-changes">Most notable changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes-48">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-41">Enhancements and new features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-refactoring">Internal refactoring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nov-10-2016-ca-release">0.4.1 (Nov 10, 2016) – CA release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-49">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-42">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#oct-22-2016-paris-is-waiting">0.4 (Oct 22, 2016) – Paris is waiting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-50">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-43">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#oct-1-2016-what-a-wonderful-week">0.3.1 (Oct 1, 2016) – what a wonderful week</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixes-51">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-new-features-44">Enhancements and new features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sep-23-2016-winter-is-coming">0.3 (Sep 23, 2016) – winter is coming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jun-28-2016-busy-ohbm">0.2.3 (Jun 28, 2016) – busy OHBM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jun-20-2016-ohbm-we-are-coming">0.2.2 (Jun 20, 2016) – OHBM we are coming!</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jun-10-2016">0.2.1 (Jun 10, 2016)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#may-20-2016">0.2 (May 20, 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oct-14-2015">0.1 (Oct 14, 2015)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cmdline.html">Command line reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="modref.html">Python module reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Change log</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="change-log">
<h1>Change log<a class="headerlink" href="#change-log" title="Permalink to this headline"></a></h1>
<section id="sat-oct-30-2021">
<h2>0.15.3 (Sat Oct 30 2021)<a class="headerlink" href="#sat-oct-30-2021" title="Permalink to this headline"></a></h2>
<section id="bug-fix">
<h3>Bug Fix<a class="headerlink" href="#bug-fix" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF: Don’t make create-sibling recursive by default
<a class="reference external" href="https://github.com/datalad/datalad/pull/6116">#6116</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>BF: Add dashes to ‘force’ option in non-empty directory error message
<a class="reference external" href="https://github.com/datalad/datalad/pull/6078">#6078</a>
(<a class="reference external" href="https://github.com/DisasterMo">&#64;DisasterMo</a>)</p></li>
<li><p>DOC: Add supported URL types to download-url’s docstring
<a class="reference external" href="https://github.com/datalad/datalad/pull/6098">#6098</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>BF: Retain git-annex error messages &amp; don’t show them if operation
successful <a class="reference external" href="https://github.com/datalad/datalad/pull/6070">#6070</a>
(<a class="reference external" href="https://github.com/DisasterMo">&#64;DisasterMo</a>)</p></li>
<li><p>Remove uses of <code class="docutils literal notranslate"><span class="pre">__full_version__</span></code> and <code class="docutils literal notranslate"><span class="pre">datalad.version</span></code>
<a class="reference external" href="https://github.com/datalad/datalad/pull/6073">#6073</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>BF: ORA shouldn’t crash while handling a failure
<a class="reference external" href="https://github.com/datalad/datalad/pull/6063">#6063</a>
(<a class="reference external" href="https://github.com/bpoldrack">&#64;bpoldrack</a>)</p></li>
<li><p>DOC: Refine –reckless docstring on usage and wording
<a class="reference external" href="https://github.com/datalad/datalad/pull/6043">#6043</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>BF: archives upon strip - use rmtree which retries etc instead of
rmdir <a class="reference external" href="https://github.com/datalad/datalad/pull/6064">#6064</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF: do not leave test in a tmp dir destined for removal
<a class="reference external" href="https://github.com/datalad/datalad/pull/6059">#6059</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Next wave of exc_str() removals
<a class="reference external" href="https://github.com/datalad/datalad/pull/6022">#6022</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
</ul>
</section>
<section id="pushed-to-maint">
<h3>Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code><a class="headerlink" href="#pushed-to-maint" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>CI: Enable new codecov uploader in Appveyor CI
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
</ul>
</section>
<section id="internal">
<h3>Internal<a class="headerlink" href="#internal" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>UX: Log clone-candidate number and URLs
<a class="reference external" href="https://github.com/datalad/datalad/pull/6092">#6092</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>UX/ENH: Disable reporting, and don’t do superfluous internal
subdatasets calls
<a class="reference external" href="https://github.com/datalad/datalad/pull/6094">#6094</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>Update codecov action to v2
<a class="reference external" href="https://github.com/datalad/datalad/pull/6072">#6072</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
</ul>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Design document on URL substitution feature
<a class="reference external" href="https://github.com/datalad/datalad/pull/6065">#6065</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
</ul>
</section>
<section id="tests">
<h3>Tests<a class="headerlink" href="#tests" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF(TST): remove reuse of the same tape across unrelated tests
<a class="reference external" href="https://github.com/datalad/datalad/pull/6127">#6127</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Fail Travis tests on deprecation warnings
<a class="reference external" href="https://github.com/datalad/datalad/pull/6074">#6074</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Ux get result handling broken
<a class="reference external" href="https://github.com/datalad/datalad/pull/6052">#6052</a>
(<a class="reference external" href="https://github.com/christian-monch">&#64;christian-monch</a>)</p></li>
<li><p>enable metalad tests again
<a class="reference external" href="https://github.com/datalad/datalad/pull/6060">#6060</a>
(<a class="reference external" href="https://github.com/christian-monch">&#64;christian-monch</a>)</p></li>
</ul>
</section>
<section id="authors-7">
<h3>Authors: 7<a class="headerlink" href="#authors-7" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Adina Wagner (<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>Benjamin Poldrack (<a class="reference external" href="https://github.com/bpoldrack">&#64;bpoldrack</a>)</p></li>
<li><p>Christian Mnch
(<a class="reference external" href="https://github.com/christian-monch">&#64;christian-monch</a>)</p></li>
<li><p>John T. Wodder II (<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Michael Burgardt (<a class="reference external" href="https://github.com/DisasterMo">&#64;DisasterMo</a>)</p></li>
<li><p>Michael Hanke (<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Yaroslav Halchenko (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="wed-oct-06-2021">
<h2>0.15.2 (Wed Oct 06 2021)<a class="headerlink" href="#wed-oct-06-2021" title="Permalink to this headline"></a></h2>
<section id="bug-fix-1">
<span id="id1"></span><h3>Bug Fix<a class="headerlink" href="#bug-fix-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF: Don’t suppress datalad subdatasets output
<a class="reference external" href="https://github.com/datalad/datalad/pull/6035">#6035</a>
(<a class="reference external" href="https://github.com/DisasterMo">&#64;DisasterMo</a>
<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Honor datalad.runtime.use-patool if set regardless of OS (was Windows
only) <a class="reference external" href="https://github.com/datalad/datalad/pull/6033">#6033</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Discontinue usage of deprecated (public) helper
<a class="reference external" href="https://github.com/datalad/datalad/pull/6032">#6032</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>BF: ProgressHandler - close the other handler if was specified
<a class="reference external" href="https://github.com/datalad/datalad/pull/6020">#6020</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>UX: Report GitLab weburl of freshly created projects in the result
<a class="reference external" href="https://github.com/datalad/datalad/pull/6017">#6017</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>Ensure there’s a blank line between the class <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> and
“Parameters” in <code class="docutils literal notranslate"><span class="pre">build_doc</span></code> docstrings
<a class="reference external" href="https://github.com/datalad/datalad/pull/6004">#6004</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Large code-reorganization of everything runner-related
<a class="reference external" href="https://github.com/datalad/datalad/pull/6008">#6008</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Discontinue exc_str() in all modern parts of the code base
<a class="reference external" href="https://github.com/datalad/datalad/pull/6007">#6007</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
</ul>
</section>
<section id="tests-1">
<span id="id2"></span><h3>Tests<a class="headerlink" href="#tests-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>TST: Add test to ensure functionality with subdatasets starting with
a hyphen (-) <a class="reference external" href="https://github.com/datalad/datalad/pull/6042">#6042</a>
(<a class="reference external" href="https://github.com/DisasterMo">&#64;DisasterMo</a>)</p></li>
<li><p>BF(TST): filter away warning from coverage from analysis of stderr of
–help <a class="reference external" href="https://github.com/datalad/datalad/pull/6028">#6028</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF: disable outdated SSL root certificate breaking chain on
older/buggy clients
<a class="reference external" href="https://github.com/datalad/datalad/pull/6027">#6027</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF: start global test_http_server only if not running already
<a class="reference external" href="https://github.com/datalad/datalad/pull/6023">#6023</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="authors-5">
<h3>Authors: 5<a class="headerlink" href="#authors-5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Adina Wagner (<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>John T. Wodder II (<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Michael Burgardt (<a class="reference external" href="https://github.com/DisasterMo">&#64;DisasterMo</a>)</p></li>
<li><p>Michael Hanke (<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Yaroslav Halchenko (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="fri-sep-24-2021">
<h2>0.15.1 (Fri Sep 24 2021)<a class="headerlink" href="#fri-sep-24-2021" title="Permalink to this headline"></a></h2>
<section id="bug-fix-2">
<span id="id3"></span><h3>Bug Fix<a class="headerlink" href="#bug-fix-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF: downloader - fail to download even on non-crippled FS if symlink
exists <a class="reference external" href="https://github.com/datalad/datalad/pull/5991">#5991</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH: import datalad.api to bind extensions methods for discovery of
dataset methods
<a class="reference external" href="https://github.com/datalad/datalad/pull/5999">#5999</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Restructure cmdline API presentation
<a class="reference external" href="https://github.com/datalad/datalad/pull/5988">#5988</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Close file descriptors after process exit
<a class="reference external" href="https://github.com/datalad/datalad/pull/5983">#5983</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
</ul>
</section>
<section id="pushed-to-maint-1">
<span id="id4"></span><h3>Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code><a class="headerlink" href="#pushed-to-maint-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Discontinue testing of hirni extension
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
</ul>
</section>
<section id="internal-1">
<span id="id5"></span><h3>Internal<a class="headerlink" href="#internal-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Add debugging information to release step
<a class="reference external" href="https://github.com/datalad/datalad/pull/5980">#5980</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
</ul>
</section>
<section id="documentation-1">
<span id="id6"></span><h3>Documentation<a class="headerlink" href="#documentation-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Coarse description of the credential subsystem’s functionality
<a class="reference external" href="https://github.com/datalad/datalad/pull/5998">#5998</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
</ul>
</section>
<section id="tests-2">
<span id="id7"></span><h3>Tests<a class="headerlink" href="#tests-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF(TST): use sys.executable, mark test_ria_basics.test_url_keys as
requiring network
<a class="reference external" href="https://github.com/datalad/datalad/pull/5986">#5986</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="authors-3">
<h3>Authors: 3<a class="headerlink" href="#authors-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>John T. Wodder II (<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Michael Hanke (<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Yaroslav Halchenko (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="tue-sep-14-2021-we-miss-you-kyle">
<h2>0.15.0 (Tue Sep 14 2021) – We miss you Kyle!<a class="headerlink" href="#tue-sep-14-2021-we-miss-you-kyle" title="Permalink to this headline"></a></h2>
<section id="enhancements-and-new-features">
<h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Command execution is now performed by a new <code class="docutils literal notranslate"><span class="pre">Runner</span></code> implementation
that is no longer based on the <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> framework, which was found
to exhibit fragile performance in interaction with other
<code class="docutils literal notranslate"><span class="pre">asyncio</span></code>-using code, such as Jupyter notebooks. The new
implementation is based on threads. It also supports the
specification of “protocols” that were introduced with the switch to
the <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> implementation in 0.14.0.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5667">#5667</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clone</span></code> now supports arbitrary URL transformations based on regular
expressions. One or more transformation steps can be defined via
<code class="docutils literal notranslate"><span class="pre">datalad.clone.url-substitute.&lt;label&gt;</span></code> configuration settings. The
feature can be (and is now) used to support convenience mappings,
such as <code class="docutils literal notranslate"><span class="pre">https://osf.io/q8xnk/</span></code> (displayed in a browser window) to
<code class="docutils literal notranslate"><span class="pre">osf://q8xnk</span></code> (clonable via the <code class="docutils literal notranslate"><span class="pre">datalad-osf</span></code> extension.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5749">#5749</a>)</p></li>
<li><p>Homogenize SSH use and configurability between DataLad and git-annex,
by instructing git-annex to use DataLad’s <code class="docutils literal notranslate"><span class="pre">sshrun</span></code> for SSH calls
(instead of SSH directly).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5389">#5389</a>)</p></li>
<li><p>The ORA special remote has received several new features:</p>
<ul>
<li><p>It now support a <code class="docutils literal notranslate"><span class="pre">push-url</span></code> setting as an alternative to <code class="docutils literal notranslate"><span class="pre">url</span></code>
for write access. An analog parameter was also added to
<code class="docutils literal notranslate"><span class="pre">create-sibling-ria</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5420">#5420</a>,
<a class="reference external" href="https://github.com/datalad/datalad/issues/5428">#5428</a>)</p></li>
<li><p>Access of RIA stores now performs homogeneous availability checks,
regardless of access protocol. Before, broken HTTP-based access
due to misspecified URLs could have gone unnoticed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5459">#5459</a>,
<a class="reference external" href="https://github.com/datalad/datalad/issues/5672">#5672</a>)</p></li>
<li><p>Error reporting was introduce to inform about undesirable
conditions in remote RIA stores.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5683">#5683</a>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">create-sibling-ria</span></code> now supports <code class="docutils literal notranslate"><span class="pre">--alias</span></code> for the specification
of a convenience dataset alias name in a RIA store.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5592">#5592</a>)</p></li>
<li><p>Analog to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>, <code class="docutils literal notranslate"><span class="pre">save</span></code> now features an <code class="docutils literal notranslate"><span class="pre">--amend</span></code> mode
to support incremental updates of a dataset state.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5430">#5430</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run</span></code> now supports a dry-run mode that can be used to inspect the
result of parameter expansion on the effective command to ease the
composition of more complicated command lines.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5539">#5539</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run</span></code> now supports a <code class="docutils literal notranslate"><span class="pre">--assume-ready</span></code> switch to avoid the
(possibly expensive) preparation of inputs and outputs with large
datasets that have already been readied through other means.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5431">#5431</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update</span></code> now features <code class="docutils literal notranslate"><span class="pre">--how</span></code> and <code class="docutils literal notranslate"><span class="pre">--how-subds</span></code> parameters to
configure how an update shall be performed. Supported modes are
<code class="docutils literal notranslate"><span class="pre">fetch</span></code> (unchanged default), and <code class="docutils literal notranslate"><span class="pre">merge</span></code> (previously also
possible via <code class="docutils literal notranslate"><span class="pre">--merge</span></code>), but also new strategies like <code class="docutils literal notranslate"><span class="pre">reset</span></code> or
<code class="docutils literal notranslate"><span class="pre">checkout</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5534">#5534</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update</span></code> has a new <code class="docutils literal notranslate"><span class="pre">--follow=parentds-lazy</span></code> mode that only
performs a fetch operation in subdatasets when the desired commit is
not yet present. During recursive updates involving many subdatasets
this can substantially speed up performance.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5474">#5474</a>)</p></li>
<li><p>DataLad’s command line API can now report the version for individual
commands via <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">&lt;cmd&gt;</span> <span class="pre">--version</span></code>. The output has been
homogenized to <code class="docutils literal notranslate"><span class="pre">&lt;providing</span> <span class="pre">package&gt;</span> <span class="pre">&lt;version&gt;</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5543">#5543</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create-sibling</span></code> now logs information on an auto-generated sibling
name, in the case that no <code class="docutils literal notranslate"><span class="pre">--name/-s</span></code> was provided.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5550">#5550</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create-sibling-github</span></code> has been updated to emit result records
like any standard DataLad command. Previously it was implemented as a
“plugin”, which did not support all standard API parameters.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5551">#5551</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy-file</span></code> now also works with content-less files in datasets on
crippled filesystems (adjusted mode), when a recent enough git-annex
(8.20210428 or later) is available.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5630">#5630</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addurls</span></code> can now be instructed how to behave in the event of file
name collision via a new parameter <code class="docutils literal notranslate"><span class="pre">--on-collision</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5675">#5675</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addurls</span></code> reporting now informs which particular subdatasets were
created. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5689">#5689</a>)</p></li>
<li><p>Credentials can now be provided or overwritten via all means
supported by <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>. Importantly,
<code class="docutils literal notranslate"><span class="pre">datalad.credential.&lt;name&gt;.&lt;field&gt;</span></code> configuration settings and
analog specification via environment variables are now supported
(rather than custom environment variables only). Previous
specification methods are still supported too.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5680">#5680</a>)</p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">datalad.credentials.force-ask</span></code> configuration flag can now be
used to force re-entry of already known credentials. This simplifies
credential updates without having to use an approach native to
individual credential stores.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5777">#5777</a>)</p></li>
<li><p>Suppression of rendering repeated similar results is now configurable
via the configuration switches
<code class="docutils literal notranslate"><span class="pre">datalad.ui.suppress-similar-results</span></code> (bool), and
<code class="docutils literal notranslate"><span class="pre">datalad.ui.suppress-similar-results-threshold</span></code> (int).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5681">#5681</a>)</p></li>
<li><p>The performance of <code class="docutils literal notranslate"><span class="pre">status</span></code> and similar functionality when
determining local file availability has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5692">#5692</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">push</span></code> now renders a result summary on completion.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5696">#5696</a>)</p></li>
<li><p>A dedicated info log message indicates when dataset repositories are
subjected to an annex version upgrade.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5698">#5698</a>)</p></li>
<li><p>Error reporting improvements:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">NoDatasetFound</span></code> exception now provides information for
which purpose a dataset is required.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5708">#5708</a>)</p></li>
<li><p>Wording of the <code class="docutils literal notranslate"><span class="pre">MissingExternalDependeny</span></code> error was rephrased to
account for cases of non-functional installations.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5803">#5803</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">push</span></code> reports when a <code class="docutils literal notranslate"><span class="pre">--to</span></code> parameter specification was
(likely) forgotten.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5726">#5726</a>)</p></li>
<li><p>Detailed information is now given when DataLad fails to obtain a
lock for credential entry in a timely fashion. Previously only a
generic debug log message was emitted.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5884">#5884</a>)</p></li>
<li><p>Clarified error message when <code class="docutils literal notranslate"><span class="pre">create-sibling-gitlab</span></code> was called
without <code class="docutils literal notranslate"><span class="pre">--project</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5907">#5907</a>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">add-readme</span></code> now provides a README template with more information
on the nature and use of DataLad datasets. A README file is no longer
annex’ed by default, but can be using the new <code class="docutils literal notranslate"><span class="pre">--annex</span></code> switch.
([#5723][], [#5725][])</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean</span></code> now supports a <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> mode to inform about cleanable
content. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5738">#5738</a>)</p></li>
<li><p>A new configuration setting <code class="docutils literal notranslate"><span class="pre">datalad.locations.locks</span></code> can be used
to control the placement of lock files.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5740">#5740</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wtf</span></code> now also reports branch names and states.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5804">#5804</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.whereis()</span></code> now supports batch mode.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5533">#5533</a>)</p></li>
</ul>
<section id="deprecations-and-removals">
<h4>Deprecations and removals<a class="headerlink" href="#deprecations-and-removals" title="Permalink to this headline"></a></h4>
<ul class="simple">
<li><p>The minimum supported git-annex version is now 8.20200309.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5512">#5512</a>)</p></li>
<li><p>ORA special remote configuration items <code class="docutils literal notranslate"><span class="pre">ssh-host</span></code>, and
<code class="docutils literal notranslate"><span class="pre">base-path</span></code> are deprecated. They are completely replaced by
<code class="docutils literal notranslate"><span class="pre">ria+&lt;protocol&gt;://</span></code> URL specifications.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5425">#5425</a>)</p></li>
<li><p>The deprecated <code class="docutils literal notranslate"><span class="pre">no_annex</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">create()</span></code> was removed
from the Python API.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5441">#5441</a>)</p></li>
<li><p>The unused <code class="docutils literal notranslate"><span class="pre">GitRepo.pull()</span></code> method has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5558">#5558</a>)</p></li>
<li><p>Residual support for “plugins” (a mechanism used before DataLad
supported extensions) was removed. This includes the configuration
switches <code class="docutils literal notranslate"><span class="pre">datalad.locations.{system,user}-plugins</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5554">#5554</a>,
<a class="reference external" href="https://github.com/datalad/datalad/issues/5564">#5564</a>)</p></li>
<li><p>Several features and comments have been moved to the
<code class="docutils literal notranslate"><span class="pre">datalad-deprecated</span></code> package. This package must now be installed to
be able to use keep using this functionality.</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">publish</span></code> command. Use <code class="docutils literal notranslate"><span class="pre">push</span></code> instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5837">#5837</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ls</span></code> command.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5569">#5569</a>)</p></li>
<li><p>The web UI that is deployable via <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">create-sibling</span> <span class="pre">--ui</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5555">#5555</a>)</p></li>
<li><p>The “automagic IO” feature.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5577">#5577</a>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.copy_to()</span></code> has been deprecated. The <code class="docutils literal notranslate"><span class="pre">push</span></code> command
should be used instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5560">#5560</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.sync()</span></code> has been deprecated.
<code class="docutils literal notranslate"><span class="pre">AnnexRepo.call_annex(['sync',</span> <span class="pre">...])</span></code> should be used instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5461">#5461</a>)</p></li>
<li><p>All <code class="docutils literal notranslate"><span class="pre">GitRepo.*_submodule()</span></code> methods have been deprecated and will
be removed in a future release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5559">#5559</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create-sibling-github</span></code>’s <code class="docutils literal notranslate"><span class="pre">--dryrun</span></code> switch was deprecated, use
<code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5551">#5551</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">--pbs-runner</span></code> option has been deprecated, use
<code class="docutils literal notranslate"><span class="pre">condor_run</span></code> (or similar) instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5956">#5956</a>)</p></li>
</ul>
</section>
</section>
<section id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Prevent invalid declaration of a publication dependencies for
‘origin’ on any auto-detected ORA special remotes, when cloing from a
RIA store. An ORA remote is now checked whether it actually points to
the RIA store the clone was made from.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5415">#5415</a>)</p></li>
<li><p>The ORA special remote implementation has received several fixes:</p>
<ul>
<li><p>It can now handle HTTP redirects.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5792">#5792</a>)</p></li>
<li><p>Prevents failure when URL-type annex keys contain the ‘/’
character.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5823">#5823</a>)</p></li>
<li><p>Properly support the specification of usernames, passwords and
ports in <code class="docutils literal notranslate"><span class="pre">ria+&lt;protocol&gt;://</span></code> URLs.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5902">#5902</a>)</p></li>
</ul>
</li>
<li><p>It is now possible to specifically select the default (or generic)
result renderer via <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">-f</span> <span class="pre">default</span></code> and with that override a
<code class="docutils literal notranslate"><span class="pre">tailored</span></code> result renderer that may be preconfigured for a
particular command.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5476">#5476</a>)</p></li>
<li><p>Starting with 0.14.0, original URLs given to <code class="docutils literal notranslate"><span class="pre">clone</span></code> were recorded
in a subdataset record. This was initially done in a second commit,
leading to inflation of commits and slowdown in superdatasets with
many subdatasets. Such subdataset record annotation is now collapsed
into a single commits.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5480">#5480</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run</span></code> now longer removes leading empty directories as part of the
output preparation. This was surprising behavior for commands that do
not ensure on their own that output directories exist.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5492">#5492</a>)</p></li>
<li><p>A potentially existing <code class="docutils literal notranslate"><span class="pre">message</span></code> property is no longer removed when
using the <code class="docutils literal notranslate"><span class="pre">json</span></code> or <code class="docutils literal notranslate"><span class="pre">json_pp</span></code> result renderer to avoid undesired
withholding of relevant information.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5536">#5536</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subdatasets</span></code> now reports <code class="docutils literal notranslate"><span class="pre">state=present</span></code>, rather than
<code class="docutils literal notranslate"><span class="pre">state=clean</span></code>, for installed subdatasets to complement
<code class="docutils literal notranslate"><span class="pre">state=absent</span></code> reports for uninstalled dataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5655">#5655</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create-sibling-ria</span></code> now executes commands with a consistent
environment setup that matches all other command execution in other
DataLad commands.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5682">#5682</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save</span></code> no longer saves unspecified subdatasets when called with an
explicit path (list). The fix required a behavior change of
<code class="docutils literal notranslate"><span class="pre">GitRepo.get_content_info()</span></code> in its interpretation of <code class="docutils literal notranslate"><span class="pre">None</span></code>
vs. <code class="docutils literal notranslate"><span class="pre">[]</span></code> path argument values that now aligns the behavior of
<code class="docutils literal notranslate"><span class="pre">GitRepo.diff|status()</span></code> with their respective documentation.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5693">#5693</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get</span></code> now prefers the location of a subdatasets that is recorded in
a superdataset’s <code class="docutils literal notranslate"><span class="pre">.gitmodules</span></code> record. Previously, DataLad tried to
obtain a subdataset from an assumed checkout of the superdataset’s
origin. This new default order is (re-)configurable via the
<code class="docutils literal notranslate"><span class="pre">datalad.get.subdataset-source-candidate-&lt;priority-label&gt;</span></code>
configuration mechanism.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5760">#5760</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create-sibling-gitlab</span></code> no longer skips the root dataset when <code class="docutils literal notranslate"><span class="pre">.</span></code>
is given as a path.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5789">#5789</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">siblings</span></code> now rejects a value given to <code class="docutils literal notranslate"><span class="pre">--as-common-datasrc</span></code>
that clashes with the respective Git remote.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5805">#5805</a>)</p></li>
<li><p>The usage synopsis reported by <code class="docutils literal notranslate"><span class="pre">siblings</span></code> now lists all supported
actions. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5913">#5913</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">siblings</span></code> now renders non-ok results to avoid silent failure.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5915">#5915</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.gitattribute</span></code> file manipulations no longer leave the file without
a trailing newline.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5847">#5847</a>)</p></li>
<li><p>Prevent crash when trying to delete a non-existing keyring credential
field. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5892">#5892</a>)</p></li>
<li><p>git-annex is no longer called with an unconditional <code class="docutils literal notranslate"><span class="pre">annex.retry=3</span></code>
configuration. Instead, this parameterization is now limited to
<code class="docutils literal notranslate"><span class="pre">annex</span> <span class="pre">get</span></code> and <code class="docutils literal notranslate"><span class="pre">annex</span> <span class="pre">copy</span></code> calls.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5904">#5904</a>)</p></li>
</ul>
</section>
<section id="tests-3">
<span id="id8"></span><h3>Tests<a class="headerlink" href="#tests-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file://</span></code> URLs are no longer the predominant test case for
<code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> functionality. A built-in HTTP server now used in most
cases. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5332">#5332</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="sun-sep-12-2021">
<h2>0.14.8 (Sun Sep 12 2021)<a class="headerlink" href="#sun-sep-12-2021" title="Permalink to this headline"></a></h2>
<section id="bug-fix-3">
<span id="id9"></span><h3>Bug Fix<a class="headerlink" href="#bug-fix-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF: add-archive-content on .xz and other non-.gz stream compressed
files <a class="reference external" href="https://github.com/datalad/datalad/pull/5930">#5930</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF(UX): do not keep logging ERROR possibly present in progress
records <a class="reference external" href="https://github.com/datalad/datalad/pull/5936">#5936</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Annotate datalad_core as not needing actual data – just uses annex
whereis <a class="reference external" href="https://github.com/datalad/datalad/pull/5971">#5971</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF: limit CMD_MAX_ARG if obnoxious value is encountered.
<a class="reference external" href="https://github.com/datalad/datalad/pull/5945">#5945</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Download session/credentials locking – inform user if locking is
“failing” to be obtained, fail upon ~5min timeout
<a class="reference external" href="https://github.com/datalad/datalad/pull/5884">#5884</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Render siblings()’s non-ok results with the default renderer
<a class="reference external" href="https://github.com/datalad/datalad/pull/5915">#5915</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>BF: do not crash, just skip whenever trying to delete non existing
field in the underlying keyring
<a class="reference external" href="https://github.com/datalad/datalad/pull/5892">#5892</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Fix argument-spec for <code class="docutils literal notranslate"><span class="pre">siblings</span></code> and improve usage synopsis
<a class="reference external" href="https://github.com/datalad/datalad/pull/5913">#5913</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Clarify error message re unspecified gitlab project
<a class="reference external" href="https://github.com/datalad/datalad/pull/5907">#5907</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Support username, password and port specification in RIA URLs
<a class="reference external" href="https://github.com/datalad/datalad/pull/5902">#5902</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>BF: take path from SSHRI, test URLs not only on Windows
<a class="reference external" href="https://github.com/datalad/datalad/pull/5881">#5881</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH(UX): warn user if keyring returned a “null” keyring
<a class="reference external" href="https://github.com/datalad/datalad/pull/5875">#5875</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH(UX): state original purpose in NoDatasetFound exception + detail
it for get <a class="reference external" href="https://github.com/datalad/datalad/pull/5708">#5708</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="pushed-to-maint-2">
<span id="id10"></span><h3>Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code><a class="headerlink" href="#pushed-to-maint-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Merge branch ‘bf-http-headers-agent’ into maint
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>RF(BF?)+DOC: provide User-Agent to entire session headers + use those
if provided (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="internal-2">
<span id="id11"></span><h3>Internal<a class="headerlink" href="#internal-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Pass <code class="docutils literal notranslate"><span class="pre">--no-changelog</span></code> to <code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">shipit</span></code> if changelog already has
entry <a class="reference external" href="https://github.com/datalad/datalad/pull/5952">#5952</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Add isort config to match current convention + run isort via
pre-commit (if configured)
<a class="reference external" href="https://github.com/datalad/datalad/pull/5923">#5923</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>.travis.yml: use python -m {nose,coverage} invocations, and always
show combined report
<a class="reference external" href="https://github.com/datalad/datalad/pull/5888">#5888</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Add project URLs into the package metadata for convenience links on
Pypi <a class="reference external" href="https://github.com/datalad/datalad/pull/5866">#5866</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>
<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="tests-4">
<span id="id12"></span><h3>Tests<a class="headerlink" href="#tests-4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF: do use OBSCURE_FILENAME instead of hardcoded unicode
<a class="reference external" href="https://github.com/datalad/datalad/pull/5944">#5944</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF(TST): Skip testing for having PID listed if no psutil
<a class="reference external" href="https://github.com/datalad/datalad/pull/5920">#5920</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF(TST): Boost version of git-annex to 8.20201129 to test an error
message <a class="reference external" href="https://github.com/datalad/datalad/pull/5894">#5894</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="authors-4">
<h3>Authors: 4<a class="headerlink" href="#authors-4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Adina Wagner (<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>John T. Wodder II (<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Michael Hanke (<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Yaroslav Halchenko (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="tue-aug-03-2021">
<h2>0.14.7 (Tue Aug 03 2021)<a class="headerlink" href="#tue-aug-03-2021" title="Permalink to this headline"></a></h2>
<section id="bug-fix-4">
<span id="id13"></span><h3>Bug Fix<a class="headerlink" href="#bug-fix-4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>UX: When two or more clone URL templates are found, error out more
gracefully <a class="reference external" href="https://github.com/datalad/datalad/pull/5839">#5839</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>BF: http_auth - follow redirect (just 1) to re-authenticate after
initial attempt
<a class="reference external" href="https://github.com/datalad/datalad/pull/5852">#5852</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>addurls Formatter - provide value repr in exception
<a class="reference external" href="https://github.com/datalad/datalad/pull/5850">#5850</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH: allow for “patch” level semver for “master” branch
<a class="reference external" href="https://github.com/datalad/datalad/pull/5839">#5839</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF: Report info from annex JSON error message in CommandError
<a class="reference external" href="https://github.com/datalad/datalad/pull/5809">#5809</a>
(<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>RF(TST): do not test for no EASY and pkg_resources in shims
<a class="reference external" href="https://github.com/datalad/datalad/pull/5817">#5817</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>http downloaders: Provide custom informative User-Agent, do not claim
to be “Authenticated access”
<a class="reference external" href="https://github.com/datalad/datalad/pull/5802">#5802</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH(UX,DX): inform user with a warning if version is 0+unknown
<a class="reference external" href="https://github.com/datalad/datalad/pull/5787">#5787</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>shell-completion: add argcomplete to ‘misc’ extra_depends, log an
ERROR if argcomplete fails to import
<a class="reference external" href="https://github.com/datalad/datalad/pull/5781">#5781</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH (UX): add python-gitlab dependency
<a class="reference external" href="https://github.com/datalad/datalad/pull/5776">#5776</a>
(<a class="reference external" href="mailto:s&#46;heunis&#37;&#52;&#48;fz-juelich&#46;de">s<span>&#46;</span>heunis<span>&#64;</span>fz-juelich<span>&#46;</span>de</a>)</p></li>
</ul>
</section>
<section id="internal-3">
<span id="id14"></span><h3>Internal<a class="headerlink" href="#internal-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF: Fix reported paths in ORA remote
<a class="reference external" href="https://github.com/datalad/datalad/pull/5821">#5821</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>BF: import importlib.metadata not importlib_metadata whenever
available <a class="reference external" href="https://github.com/datalad/datalad/pull/5818">#5818</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="tests-5">
<span id="id15"></span><h3>Tests<a class="headerlink" href="#tests-5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>TST: set –allow-unrelated-histories in the mk_push_target setup for
Windows <a class="reference external" href="https://github.com/datalad/datalad/pull/5855">#5855</a>
(<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>Tests: Allow for version to contain + as a separator and provide more
information for version related comparisons
<a class="reference external" href="https://github.com/datalad/datalad/pull/5786">#5786</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="authors-4-1">
<span id="id16"></span><h3>Authors: 4<a class="headerlink" href="#authors-4-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Adina Wagner (<a class="reference external" href="https://github.com/adswa">&#64;adswa</a>)</p></li>
<li><p>Michael Hanke (<a class="reference external" href="https://github.com/mih">&#64;mih</a>)</p></li>
<li><p>Stephan Heunis (<a class="reference external" href="https://github.com/jsheunis">&#64;jsheunis</a>)</p></li>
<li><p>Yaroslav Halchenko (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="sun-jun-27-2021">
<h2>0.14.6 (Sun Jun 27 2021)<a class="headerlink" href="#sun-jun-27-2021" title="Permalink to this headline"></a></h2>
<section id="internal-4">
<span id="id17"></span><h3>Internal<a class="headerlink" href="#internal-4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF: update changelog conversion from .md to .rst (for sphinx)
<a class="reference external" href="https://github.com/datalad/datalad/pull/5757">#5757</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>
<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
</ul>
</section>
<section id="authors-2">
<h3>Authors: 2<a class="headerlink" href="#authors-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>John T. Wodder II (<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Yaroslav Halchenko (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="mon-jun-21-2021">
<h2>0.14.5 (Mon Jun 21 2021)<a class="headerlink" href="#mon-jun-21-2021" title="Permalink to this headline"></a></h2>
<section id="bug-fix-5">
<span id="id18"></span><h3>Bug Fix<a class="headerlink" href="#bug-fix-5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF(TST): parallel - take longer for producer to produce
<a class="reference external" href="https://github.com/datalad/datalad/pull/5747">#5747</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>add –on-failure default value and document it
<a class="reference external" href="https://github.com/datalad/datalad/pull/5690">#5690</a>
(<a class="reference external" href="https://github.com/christian-monch">&#64;christian-monch</a>
<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH: harmonize “purpose” statements to imperative form
<a class="reference external" href="https://github.com/datalad/datalad/pull/5733">#5733</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>ENH(TST): populate heavy tree with 100 unique keys (not just 1) among
10,000 <a class="reference external" href="https://github.com/datalad/datalad/pull/5734">#5734</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF: do not use .acquired - just get state from acquire()
<a class="reference external" href="https://github.com/datalad/datalad/pull/5718">#5718</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>BF: account for annex now “scanning for annexed” instead of
“unlocked” files
<a class="reference external" href="https://github.com/datalad/datalad/pull/5705">#5705</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>interface: Don’t repeat custom summary for non-generator results
<a class="reference external" href="https://github.com/datalad/datalad/pull/5688">#5688</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>RF: just pip install datalad-installer
<a class="reference external" href="https://github.com/datalad/datalad/pull/5676">#5676</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>DOC: addurls.extract: Drop mention of removed ‘stream’ parameter
<a class="reference external" href="https://github.com/datalad/datalad/pull/5690">#5690</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>Merge pull request #5674 from kyleam/test-addurls-copy-fix
<a class="reference external" href="https://github.com/datalad/datalad/pull/5674">#5674</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>Merge pull request #5663 from kyleam/status-ds-equal-path
<a class="reference external" href="https://github.com/datalad/datalad/pull/5663">#5663</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>Merge pull request #5671 from kyleam/update-fetch-fail
<a class="reference external" href="https://github.com/datalad/datalad/pull/5671">#5671</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>BF: update: Honor –on-failure if fetch fails
<a class="reference external" href="https://github.com/datalad/datalad/pull/5671">#5671</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>RF: update: Avoid fetch’s deprecated kwargs
<a class="reference external" href="https://github.com/datalad/datalad/pull/5671">#5671</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>CLN: update: Drop an unused import
<a class="reference external" href="https://github.com/datalad/datalad/pull/5671">#5671</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>Merge pull request #5664 from kyleam/addurls-better-url-parts-error
<a class="reference external" href="https://github.com/datalad/datalad/pull/5664">#5664</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>Merge pull request #5661 from kyleam/sphinx-fix-plugin-refs
<a class="reference external" href="https://github.com/datalad/datalad/pull/5661">#5661</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>BF: status: Provide special treatment of “this dataset” path
<a class="reference external" href="https://github.com/datalad/datalad/pull/5663">#5663</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>BF: addurls: Provide better placeholder error for special keys
<a class="reference external" href="https://github.com/datalad/datalad/pull/5664">#5664</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>RF: addurls: Simply construction of placeholder exception message
<a class="reference external" href="https://github.com/datalad/datalad/pull/5664">#5664</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>RF: addurls._get_placeholder_exception: Rename a parameter
<a class="reference external" href="https://github.com/datalad/datalad/pull/5664">#5664</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>RF: status: Avoid repeated Dataset.path access
<a class="reference external" href="https://github.com/datalad/datalad/pull/5663">#5663</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>DOC: Reference plugins via datalad.api
<a class="reference external" href="https://github.com/datalad/datalad/pull/5661">#5661</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>download-url: Set up datalad special remote if needed
<a class="reference external" href="https://github.com/datalad/datalad/pull/5648">#5648</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>
<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
<section id="pushed-to-maint-3">
<span id="id19"></span><h3>Pushed to <code class="docutils literal notranslate"><span class="pre">maint</span></code><a class="headerlink" href="#pushed-to-maint-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>MNT: Post-release dance (<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
</ul>
</section>
<section id="internal-5">
<span id="id20"></span><h3>Internal<a class="headerlink" href="#internal-5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Switch to versioneer and auto
<a class="reference external" href="https://github.com/datalad/datalad/pull/5669">#5669</a>
(<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>
<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>MNT: setup.py: Temporarily avoid Sphinx 4
<a class="reference external" href="https://github.com/datalad/datalad/pull/5649">#5649</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
</ul>
</section>
<section id="tests-6">
<span id="id21"></span><h3>Tests<a class="headerlink" href="#tests-6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>BF(TST): skip testing for showing “Scanning for …” since not shown if
too quick <a class="reference external" href="https://github.com/datalad/datalad/pull/5727">#5727</a>
(<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
<li><p>Revert “TST: test_partial_unlocked: Document and avoid recent
git-annex failure”
<a class="reference external" href="https://github.com/datalad/datalad/pull/5651">#5651</a>
(<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
</ul>
</section>
<section id="authors-4-2">
<span id="id22"></span><h3>Authors: 4<a class="headerlink" href="#authors-4-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Christian Mnch
(<a class="reference external" href="https://github.com/christian-monch">&#64;christian-monch</a>)</p></li>
<li><p>John T. Wodder II (<a class="reference external" href="https://github.com/jwodder">&#64;jwodder</a>)</p></li>
<li><p>Kyle Meyer (<a class="reference external" href="https://github.com/kyleam">&#64;kyleam</a>)</p></li>
<li><p>Yaroslav Halchenko (<a class="reference external" href="https://github.com/yarikoptic">&#64;yarikoptic</a>)</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="may-10-2021">
<h2>0.14.4 (May 10, 2021) – .<a class="headerlink" href="#may-10-2021" title="Permalink to this headline"></a></h2>
<section id="fixes-1">
<span id="id23"></span><h3>Fixes<a class="headerlink" href="#fixes-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Following an internal call to <code class="docutils literal notranslate"><span class="pre">git-clone</span></code>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
assumed that the remote name was “origin”, but this may not be the
case if <code class="docutils literal notranslate"><span class="pre">clone.defaultRemoteName</span></code> is configured (available as of
Git 2.30).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5572">#5572</a>)</p></li>
<li><p>Several test fixes, including updates for changes in git-annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5612">#5612</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5632">#5632</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5639">#5639</a>)</p></li>
</ul>
</section>
</section>
<section id="april-28-2021">
<h2>0.14.3 (April 28, 2021) – .<a class="headerlink" href="#april-28-2021" title="Permalink to this headline"></a></h2>
<section id="fixes-2">
<span id="id24"></span><h3>Fixes<a class="headerlink" href="#fixes-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>For outputs that include a glob,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
didn’t re-glob after executing the command, which is necessary to
catch changes if <code class="docutils literal notranslate"><span class="pre">--explicit</span></code> or <code class="docutils literal notranslate"><span class="pre">--expand={outputs,both}</span></code> is
specified.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5594">#5594</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
now gives an error result rather than a warning when an input glob
doesn’t match.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5594">#5594</a>)</p></li>
<li><p>The procedure for creating a RIA store checks for an existing
ria-layout-version file and makes sure its version matches the
desired version. This check wasn’t done correctly for SSH hosts.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5607">#5607</a>)</p></li>
<li><p>A helper for transforming git-annex JSON records into DataLad results
didn’t account for the unusual case where the git-annex record
doesn’t have a “file” key.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5580">#5580</a>)</p></li>
<li><p>The test suite required updates for recent changes in PyGithub and
git-annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5603">#5603</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5609">#5609</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-1">
<span id="id25"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The DataLad source repository has long had a tools/cmdline-completion
helper. This functionality is now exposed as a command,
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">shell-completion</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5544">#5544</a>)</p></li>
</ul>
</section>
</section>
<section id="april-14-2021">
<h2>0.14.2 (April 14, 2021) – .<a class="headerlink" href="#april-14-2021" title="Permalink to this headline"></a></h2>
<section id="fixes-3">
<span id="id26"></span><h3>Fixes<a class="headerlink" href="#fixes-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>
now works bottom-up, pushing submodules first so that hooks on the
remote can aggregate updated subdataset information.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5416">#5416</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
didn’t ensure that the configuration of subdatasets was reloaded.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5552">#5552</a>)</p></li>
</ul>
</section>
</section>
<section id="april-01-2021">
<h2>0.14.1 (April 01, 2021) – .<a class="headerlink" href="#april-01-2021" title="Permalink to this headline"></a></h2>
<section id="fixes-4">
<span id="id27"></span><h3>Fixes<a class="headerlink" href="#fixes-4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The recent default branch changes on GitHub’s side can lead to
“git-annex” being selected over “master” as the default branch on
GitHub when setting up a sibling with
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-github.html">create-sibling-github</a>.
To work around this, the current branch is now pushed first.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5010">#5010</a>)</p></li>
<li><p>The logic for reading in a JSON line from git-annex failed if the
response exceeded the buffer size (256 KB on *nix systems).</p></li>
<li><p>Calling
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-unlock.html">unlock</a>
with a path of “.” from within an untracked subdataset incorrectly
aborted, complaining that the “dataset containing given paths is not
underneath the reference dataset”.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5458">#5458</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
didn’t account for the possibility of multiple accessible ORA remotes
or the fact that none of them may be associated with the RIA store
being cloned.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5488">#5488</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-ria.html">create-sibling-ria</a>
didn’t call <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">update-server-info</span></code> after setting up the remote
repository and, as a result, the repository couldn’t be fetched until
something else (e.g., a push) triggered a call to
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">update-server-info</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5531">#5531</a>)</p></li>
<li><p>The parser for git-config output didn’t properly handle multi-line
values and got thrown off by unexpected and unrelated lines.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5509">#5509</a>)</p></li>
<li><p>The 0.14 release introduced regressions in the handling of progress
bars for git-annex actions, including collapsing progress bars for
concurrent operations.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5421">#5421</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5438">#5438</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
failed if the user configured Git’s <code class="docutils literal notranslate"><span class="pre">diff.ignoreSubmodules</span></code> to a
non-default value.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5453">#5453</a>)</p></li>
<li><p>A interprocess lock is now used to prevent a race between checking
for an SSH socket’s existence and creating it.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5466">#5466</a>)</p></li>
<li><p>If a Python procedure script is executable,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
invokes it directly rather than passing it to <code class="docutils literal notranslate"><span class="pre">sys.executable</span></code>. The
non-executable Python procedures that ship with DataLad now include
shebangs so that invoking them has a chance of working on file
systems that present all files as executable.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5436">#5436</a>)</p></li>
<li><p>DataLad’s wrapper around <code class="docutils literal notranslate"><span class="pre">argparse</span></code> failed if an underscore was
used in a positional argument.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5525">#5525</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-2">
<span id="id28"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>DataLad’s method for mapping environment variables to configuration
options (e.g., <code class="docutils literal notranslate"><span class="pre">DATALAD_FOO_X__Y</span></code> to <code class="docutils literal notranslate"><span class="pre">datalad.foo.x-y</span></code>) doesn’t
work if the subsection name (“FOO”) has an underscore. This
limitation can be sidestepped with the new
<code class="docutils literal notranslate"><span class="pre">DATALAD_CONFIG_OVERRIDES_JSON</span></code> environment variable, which can be
set to a JSON record of configuration values.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5505">#5505</a>)</p></li>
</ul>
</section>
</section>
<section id="february-02-2021">
<h2>0.14.0 (February 02, 2021) – .<a class="headerlink" href="#february-02-2021" title="Permalink to this headline"></a></h2>
<section id="major-refactoring-and-deprecations">
<h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Git versions below v2.19.1 are no longer supported.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4650">#4650</a>)</p></li>
<li><p>The minimum git-annex version is still 7.20190503, but, if you’re on
Windows (or use adjusted branches in general), please upgrade to at
least 8.20200330 but ideally 8.20210127 to get subdataset-related
fixes. (<a class="reference external" href="https://github.com/datalad/datalad/issues/4292">#4292</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5290">#5290</a>)</p></li>
<li><p>The minimum supported version of Python is now 3.6.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4879">#4879</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
is now deprecated in favor of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>.
It will be removed in the 0.15.0 release at the earliest.</p></li>
<li><p>A new command runner was added in v0.13. Functionality related to the
old runner has now been removed: <code class="docutils literal notranslate"><span class="pre">Runner</span></code>, <code class="docutils literal notranslate"><span class="pre">GitRunner</span></code>, and
<code class="docutils literal notranslate"><span class="pre">run_gitcommand_on_file_list_chunks</span></code> from the <code class="docutils literal notranslate"><span class="pre">datalad.cmd</span></code>
module along with the <code class="docutils literal notranslate"><span class="pre">datalad.tests.protocolremote</span></code>,
<code class="docutils literal notranslate"><span class="pre">datalad.cmd.protocol</span></code>, and <code class="docutils literal notranslate"><span class="pre">datalad.cmd.protocol.prefix</span></code>
configuration options.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5229">#5229</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--no-storage-sibling</span></code> switch of <code class="docutils literal notranslate"><span class="pre">create-sibling-ria</span></code> is
deprecated in favor of <code class="docutils literal notranslate"><span class="pre">--storage-sibling=off</span></code> and will be removed
in a later release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5090">#5090</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_git_dir</span></code> static method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> is deprecated and
will be removed in a later release. Use the <code class="docutils literal notranslate"><span class="pre">dot_git</span></code> attribute of
an instance instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4597">#4597</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ProcessAnnexProgressIndicators</span></code> helper from
<code class="docutils literal notranslate"><span class="pre">datalad.support.annexrepo</span></code> has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5259">#5259</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">save</span></code> argument of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>,
a noop since v0.6.0, has been dropped.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5278">#5278</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_URLS</span></code> method of <code class="docutils literal notranslate"><span class="pre">AnnexCustomRemote</span></code> is deprecated and
will be removed in a later release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4955">#4955</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ConfigManager.get</span></code> now returns a single value rather than a tuple
when there are multiple values for the same key, as very few callers
correctly accounted for the possibility of a tuple return value.
Callers can restore the old behavior by passing <code class="docutils literal notranslate"><span class="pre">get_all=True</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4924">#4924</a>)</p></li>
<li><p>In 0.12.0, all of the <code class="docutils literal notranslate"><span class="pre">assure_*</span></code> functions in <code class="docutils literal notranslate"><span class="pre">datalad.utils</span></code>
were renamed as <code class="docutils literal notranslate"><span class="pre">ensure_*</span></code>, keeping the old names around as
compatibility aliases. The <code class="docutils literal notranslate"><span class="pre">assure_*</span></code> variants are now marked as
deprecated and will be removed in a later release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4908">#4908</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">datalad.inteface.run</span></code> module, which was deprecated in 0.12.0
and kept as a compatibility shim for <code class="docutils literal notranslate"><span class="pre">datalad.core.local.run</span></code>, has
been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4583">#4583</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">saver</span></code> argument of <code class="docutils literal notranslate"><span class="pre">datalad.core.local.run.run_command</span></code>,
marked as obsolete in 0.12.0, has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4583">#4583</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">dataset_only</span></code> argument of the <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> class was
deprecated in 0.12 and has now been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4828">#4828</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">linux_distribution_name</span></code>, <code class="docutils literal notranslate"><span class="pre">linux_distribution_release</span></code>, and
<code class="docutils literal notranslate"><span class="pre">on_debian_wheezy</span></code> attributes in <code class="docutils literal notranslate"><span class="pre">datalad.utils</span></code> are no longer
set at import time and will be removed in a later release. Use
<code class="docutils literal notranslate"><span class="pre">datalad.utils.get_linux_distribution</span></code> instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4696">#4696</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad.distribution.clone</span></code>, which was marked as obsolete in v0.12
in favor of <code class="docutils literal notranslate"><span class="pre">datalad.core.distributed.clone</span></code>, has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4904">#4904</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad.support.annexrepo.N_AUTO_JOBS</span></code>, announced as deprecated in
v0.12.6, has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4904">#4904</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">compat</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">GitRepo.get_submodules</span></code>, added in
v0.12 as a temporary compatibility layer, has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4904">#4904</a>)</p></li>
<li><p>The long-deprecated (and non-functional) <code class="docutils literal notranslate"><span class="pre">url</span></code> parameter of
<code class="docutils literal notranslate"><span class="pre">GitRepo.__init__</span></code> has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5342">#5342</a>)</p></li>
</ul>
</section>
<section id="fixes-5">
<span id="id29"></span><h3>Fixes<a class="headerlink" href="#fixes-5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Cloning onto a system that enters adjusted branches by default (as
Windows does) did not properly record the clone URL.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5128">#5128</a>)</p></li>
<li><p>The RIA-specific handling after calling
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
was correctly triggered by <code class="docutils literal notranslate"><span class="pre">ria+http</span></code> URLs but not <code class="docutils literal notranslate"><span class="pre">ria+https</span></code>
URLs. (<a class="reference external" href="https://github.com/datalad/datalad/issues/4977">#4977</a>)</p></li>
<li><p>If the registered commit wasn’t found when cloning a subdataset, the
failed attempt was left around.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5391">#5391</a>)</p></li>
<li><p>The remote calls to <code class="docutils literal notranslate"><span class="pre">cp</span></code> and <code class="docutils literal notranslate"><span class="pre">chmod</span></code> in
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>
were not portable and failed on macOS.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5108">#5108</a>)</p></li>
<li><p>A more reliable check is now done to decide if configuration files
need to be reloaded.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5276">#5276</a>)</p></li>
<li><p>The internal command runner’s handling of the event loop has been
improved to play nicer with outside applications and scripts that use
asyncio. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5350">#5350</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5367">#5367</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-3">
<span id="id30"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The subdataset handling for adjusted branches, which is particularly
important on Windows where git-annex enters an adjusted branch by
default, has been improved. A core piece of the new approach is
registering the commit of the primary branch, not its checked out
adjusted branch, in the superdataset. Note: This means that
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> will always consider a subdataset on an adjusted
branch as dirty while <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">status</span></code> will look more closely and
see if the tip of the primary branch matches the registered commit.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5241">#5241</a>)</p></li>
<li><p>The performance of the
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-subdatasets.html">subdatasets</a>
command has been improved, with substantial speedups for recursive
processing of many subdatasets.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4868">#4868</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5076">#5076</a>)</p></li>
<li><p>Adding new subdatasets via
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
has been sped up.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4793">#4793</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>,
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a>
gained support for parallel operations that can be enabled via the
<code class="docutils literal notranslate"><span class="pre">--jobs</span></code> command-line option or the new
<code class="docutils literal notranslate"><span class="pre">datalad.runtime.max-jobs</span></code> configuration option.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5022">#5022</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a></p>
<ul>
<li><p>learned how to read data from standard input.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4669">#4669</a>)</p></li>
<li><p>now supports tab-separated input.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4845">#4845</a>)</p></li>
<li><p>now lets Python callers pass in a list of records rather than a
file name.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5285">#5285</a>)</p></li>
<li><p>gained a <code class="docutils literal notranslate"><span class="pre">--drop-after</span></code> switch that signals to drop a file’s
content after downloading and adding it to the annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5081">#5081</a>)</p></li>
<li><p>is now able to construct a tree of files from known checksums
without downloading content via its new <code class="docutils literal notranslate"><span class="pre">--key</span></code> option.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5184">#5184</a>)</p></li>
<li><p>records the URL file in the commit message as provided by the
caller rather than using the resolved absolute path.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5091">#5091</a>)</p></li>
<li><p>is now speedier.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4867">#4867</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5022">#5022</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-github.html">create-sibling-github</a>
learned how to create private repositories (thanks to Nolan Nichols).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4769">#4769</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-ria.html">create-sibling-ria</a>
gained a <code class="docutils literal notranslate"><span class="pre">--storage-sibling</span></code> option. When
<code class="docutils literal notranslate"><span class="pre">--storage-sibling=only</span></code> is specified, the storage sibling is
created without an accompanying Git sibling. This enables using hosts
without Git installed for storage.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5090">#5090</a>)</p></li>
<li><p>The download machinery (and thus the <code class="docutils literal notranslate"><span class="pre">datalad</span></code> special remote)
gained support for a new scheme, <code class="docutils literal notranslate"><span class="pre">shub://</span></code>, which follows the same
format used by <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">run</span></code> and friends. In contrast to the
short-lived URLs obtained by querying Singularity Hub directly,
<code class="docutils literal notranslate"><span class="pre">shub://</span></code> URLs are suitable for registering with git-annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4816">#4816</a>)</p></li>
<li><p>A provider is now included for <a class="reference external" href="https://registry-1.docker.io">https://registry-1.docker.io</a> URLs.
This is useful for storing an image’s blobs in a dataset and
registering the URLs with git-annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5129">#5129</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">add-readme</span></code> command now links to the <a class="reference external" href="http://handbook.datalad.org">DataLad
handbook</a> rather than
<a class="reference external" href="http://docs.datalad.org">http://docs.datalad.org</a>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4991">#4991</a>)</p></li>
<li><p>New option <code class="docutils literal notranslate"><span class="pre">datalad.locations.extra-procedures</span></code> specifies an
additional location that should be searched for procedures.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5156">#5156</a>)</p></li>
<li><p>The class for handling configuration values, <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, now
takes a lock before writes to allow for multiple processes to modify
the configuration of a dataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4829">#4829</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
now records the original, unresolved URL for a subdataset under
<code class="docutils literal notranslate"><span class="pre">submodule.&lt;name&gt;.datalad-url</span></code> in the parent’s .gitmodules,
enabling later
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
calls to use the original URL. This is particularly useful for
<code class="docutils literal notranslate"><span class="pre">ria+</span></code> URLs.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5346">#5346</a>)</p></li>
<li><p>Installing a subdataset now uses custom handling rather than calling
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span></code>. This avoids some locking issues when
running
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
in parallel and enables more accurate source URLs to be recorded.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4853">#4853</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.get_content_info</span></code>, a helper that gets triggered by many
commands, got faster by tweaking its <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">ls-files</span></code> call.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5067">#5067</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-wtf.html">wtf</a>
now includes credentials-related information (e.g. active backends)
in the its output.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4982">#4982</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">call_git*</span></code> methods of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> now have a <code class="docutils literal notranslate"><span class="pre">read_only</span></code>
parameter. Callers can set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> to promise that the
provided command does not write to the repository, bypassing the cost
of some checks and locking.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5070">#5070</a>)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">call_annex*</span></code> methods in the <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> class provide an
interface for running git-annex commands similar to that of the
<code class="docutils literal notranslate"><span class="pre">GitRepo.call_git*</span></code> methods.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5163">#5163</a>)</p></li>
<li><p>It’s now possible to register a custom metadata indexer that is
discovered by
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a>
and used to generate an index.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4963">#4963</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> methods <code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">getbool</span></code>, <code class="docutils literal notranslate"><span class="pre">getfloat</span></code>, and
<code class="docutils literal notranslate"><span class="pre">getint</span></code> now return a single value (with same precedence as
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--get</span></code>) when there are multiple values for the same key
(in the non-committed git configuration, if the key is present there,
or in the dataset configuration). For <code class="docutils literal notranslate"><span class="pre">get</span></code>, the old behavior can
be restored by specifying <code class="docutils literal notranslate"><span class="pre">get_all=True</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4924">#4924</a>)</p></li>
<li><p>Command-line scripts are now defined via the <code class="docutils literal notranslate"><span class="pre">entry_points</span></code>
argument of <code class="docutils literal notranslate"><span class="pre">setuptools.setup</span></code> instead of the <code class="docutils literal notranslate"><span class="pre">scripts</span></code> argument.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4695">#4695</a>)</p></li>
<li><p>Interactive use of <code class="docutils literal notranslate"><span class="pre">--help</span></code> on the command-line now invokes a pager
on more systems and installation setups.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5344">#5344</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">datalad</span></code> special remote now tries to eliminate some
unnecessary interactions with git-annex by being smarter about how it
queries for URLs associated with a key.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4955">#4955</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> class now does a better job of handling bare
repositories, a step towards bare repositories support in DataLad.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4911">#4911</a>)</p></li>
<li><p>More internal work to move the code base over to the new command
runner. (<a class="reference external" href="https://github.com/datalad/datalad/issues/4699">#4699</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4855">#4855</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4900">#4900</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4996">#4996</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5002">#5002</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5141">#5141</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5142">#5142</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5229">#5229</a>)</p></li>
</ul>
</section>
</section>
<section id="january-04-2021">
<h2>0.13.7 (January 04, 2021) – .<a class="headerlink" href="#january-04-2021" title="Permalink to this headline"></a></h2>
<section id="fixes-6">
<span id="id31"></span><h3>Fixes<a class="headerlink" href="#fixes-6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Cloning from a RIA store on the local file system initialized annex
in the Git sibling of the RIA source, which is problematic because
all annex-related functionality should go through the storage
sibling.
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
now sets <code class="docutils literal notranslate"><span class="pre">remote.origin.annex-ignore</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code> after cloning
from RIA stores to prevent this.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5255">#5255</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>
invoked <code class="docutils literal notranslate"><span class="pre">cp</span></code> in a way that was not compatible with macOS.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5269">#5269</a>)</p></li>
<li><p>Due to a bug in older Git versions (before 2.25), calling
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>
with a file under .git/ (e.g., <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">status</span> <span class="pre">.git/config</span></code>)
incorrectly reported the file as untracked. A workaround has been
added. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5258">#5258</a>)</p></li>
<li><p>Update tests for compatibility with latest git-annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5254">#5254</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-4">
<span id="id32"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-copy-file.html">copy-file</a>
now aborts if .git/ is in the target directory, adding to its
existing .git/ safety checks.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5258">#5258</a>)</p></li>
</ul>
</section>
</section>
<section id="december-14-2020">
<h2>0.13.6 (December 14, 2020) – .<a class="headerlink" href="#december-14-2020" title="Permalink to this headline"></a></h2>
<section id="fixes-7">
<span id="id33"></span><h3>Fixes<a class="headerlink" href="#fixes-7" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>An assortment of fixes for Windows compatibility.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5113">#5113</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5119">#5119</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5125">#5125</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5127">#5127</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5136">#5136</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5201">#5201</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5200">#5200</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5214">#5214</a>)</p></li>
<li><p>Adding a subdataset on a system that defaults to using an adjusted
branch (i.e. doesn’t support symlinks) didn’t properly set up the
submodule URL if the source dataset was not in an adjusted state.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5127">#5127</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>
failed to push to a remote that did not have an <code class="docutils literal notranslate"><span class="pre">annex-uuid</span></code> value
in the local <code class="docutils literal notranslate"><span class="pre">.git/config</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5148">#5148</a>)</p></li>
<li><p>The default renderer has been improved to avoid a spurious leading
space, which led to the displayed path being incorrect in some cases.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5121">#5121</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
showed an uninformative error message when asked to configure an
unknown remote.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5146">#5146</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-drop.html">drop</a>
confusingly relayed a suggestion from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">drop</span></code> to use
<code class="docutils literal notranslate"><span class="pre">--force</span></code>, an option that does not exist in <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">drop</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5194">#5194</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-github.html">create-sibling-github</a>
no longer offers user/password authentication because it is no longer
supported by GitHub.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5218">#5218</a>)</p></li>
<li><p>The internal command runner’s handling of the event loop has been
tweaked to hopefully fix issues with runnning DataLad from IPython.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5106">#5106</a>)</p></li>
<li><p>SSH cleanup wasn’t reliably triggered by the ORA special remote on
failure, leading to a stall with a particular version of git-annex,
8.20201103. (This is also resolved on git-annex’s end as of
8.20201127.)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5151">#5151</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-5">
<span id="id34"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The credential helper no longer asks the user to repeat tokens or AWS
keys. (<a class="reference external" href="https://github.com/datalad/datalad/issues/5219">#5219</a>)</p></li>
<li><p>The new option <code class="docutils literal notranslate"><span class="pre">datalad.locations.sockets</span></code> controls where Datalad
stores SSH sockets, allowing users to more easily work around file
system and path length restrictions.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5238">#5238</a>)</p></li>
</ul>
</section>
</section>
<section id="october-30-2020">
<h2>0.13.5 (October 30, 2020) – .<a class="headerlink" href="#october-30-2020" title="Permalink to this headline"></a></h2>
<section id="fixes-8">
<span id="id35"></span><h3>Fixes<a class="headerlink" href="#fixes-8" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>SSH connection handling has been reworked to fix cloning on Windows.
A new configuration option, <code class="docutils literal notranslate"><span class="pre">datalad.ssh.multiplex-connections</span></code>,
defaults to false on Windows.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5042">#5042</a>)</p></li>
<li><p>The ORA special remote and post-clone RIA configuration now provide
authentication via DataLad’s credential mechanism and better handling
of HTTP status codes.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5025">#5025</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5026">#5026</a>)</p></li>
<li><p>By default, if a git executable is present in the same location as
git-annex, DataLad modifies <code class="docutils literal notranslate"><span class="pre">PATH</span></code> when running git and git-annex
so that the bundled git is used. This logic has been tightened to
avoid unnecessarily adjusting the path, reducing the cases where the
adjustment interferes with the local environment, such as special
remotes in a virtual environment being masked by the system-wide
variants.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5035">#5035</a>)</p></li>
<li><p>git-annex is now consistently invoked as “git annex” rather than
“git-annex” to work around failures on Windows.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5001">#5001</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>
called <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">sync</span> <span class="pre">...</span></code> on plain git repositories.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5051">#5051</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
in genernal doesn’t support registering multiple levels of untracked
subdatasets, but it can now properly register nested subdatasets when
all of the subdataset paths are passed explicitly (e.g.,
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span> <span class="pre">-d.</span> <span class="pre">sub-a</span> <span class="pre">sub-a/sub-b</span></code>).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5049">#5049</a>)</p></li>
<li><p>When called with <code class="docutils literal notranslate"><span class="pre">--sidecar</span></code> and <code class="docutils literal notranslate"><span class="pre">--explicit</span></code>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
didn’t save the sidecar.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5017">#5017</a>)</p></li>
<li><p>A couple of spots didn’t properly quote format fields when combining
substrings into a format string.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4957">#4957</a>)</p></li>
<li><p>The default credentials configured for <code class="docutils literal notranslate"><span class="pre">indi-s3</span></code> prevented
anonymous access.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5045">#5045</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-6">
<span id="id36"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Messages about suppressed similar results are now rate limited to
improve performance when there are many similar results coming
through quickly.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5060">#5060</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-github.html">create-sibling-github</a>
can now be told to replace an existing sibling by passing
<code class="docutils literal notranslate"><span class="pre">--existing=replace</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5008">#5008</a>)</p></li>
<li><p>Progress bars now react to changes in the terminal’s width (requires
tqdm 2.1 or later).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5057">#5057</a>)</p></li>
</ul>
</section>
</section>
<section id="october-6-2020">
<h2>0.13.4 (October 6, 2020) – .<a class="headerlink" href="#october-6-2020" title="Permalink to this headline"></a></h2>
<section id="fixes-9">
<span id="id37"></span><h3>Fixes<a class="headerlink" href="#fixes-9" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Ephemeral clones mishandled bare repositories.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4899">#4899</a>)</p></li>
<li><p>The post-clone logic for configuring RIA stores didn’t consider
<code class="docutils literal notranslate"><span class="pre">https://</span></code> URLs.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4977">#4977</a>)</p></li>
<li><p>DataLad custom remotes didn’t escape newlines in messages sent to
git-annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4926">#4926</a>)</p></li>
<li><p>The datalad-archives special remote incorrectly treated file names as
percent-encoded.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4953">#4953</a>)</p></li>
<li><p>The result handler didn’t properly escape “%” when constructing its
message template.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4953">#4953</a>)</p></li>
<li><p>In v0.13.0, the tailored rendering for specific subtypes of external
command failures (e.g., “out of space” or “remote not available”) was
unintentionally switched to the default rendering.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4966">#4966</a>)</p></li>
<li><p>Various fixes and updates for the NDA authenticator.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4824">#4824</a>)</p></li>
<li><p>The helper for getting a versioned S3 URL did not support anonymous
access or buckets with “.” in their name.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4985">#4985</a>)</p></li>
<li><p>Several issues with the handling of S3 credentials and token
expiration have been addressed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4927">#4927</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4931">#4931</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4952">#4952</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-7">
<span id="id38"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-7" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>A warning is now given if the detected Git is below v2.13.0 to let
users that run into problems know that their Git version is likely
the culprit.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4866">#4866</a>)</p></li>
<li><p>A fix to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>
in v0.13.2 introduced a regression that surfaces when
<code class="docutils literal notranslate"><span class="pre">push.default</span></code> is configured to “matching” and prevents the
git-annex branch from being pushed. Note that, as part of the fix,
the current branch is now always pushed even when it wouldn’t be
based on the configured refspec or <code class="docutils literal notranslate"><span class="pre">push.default</span></code> value.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4896">#4896</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a></p>
<ul>
<li><p>now allows spelling the empty string value of <code class="docutils literal notranslate"><span class="pre">--since=</span></code> as
<code class="docutils literal notranslate"><span class="pre">^</span></code> for consistency with
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4683">#4683</a>)</p></li>
<li><p>compares a revision given to <code class="docutils literal notranslate"><span class="pre">--since=</span></code> with <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> rather
than the working tree to speed up the operation.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4448">#4448</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-rerun.html">rerun</a></p>
<ul>
<li><p>emits more INFO-level log messages.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4764">#4764</a>)</p></li>
<li><p>provides better handling of adjusted branches and aborts with a
clear error for cases that are not supported.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/5328">#5328</a>)</p></li>
</ul>
</li>
<li><p>The archives are handled with p7zip, if available, since DataLad
v0.12.0. This implementation now supports .tgz and .tbz2 archives.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4877">#4877</a>)</p></li>
</ul>
</section>
</section>
<section id="august-28-2020">
<h2>0.13.3 (August 28, 2020) – .<a class="headerlink" href="#august-28-2020" title="Permalink to this headline"></a></h2>
<section id="fixes-10">
<span id="id39"></span><h3>Fixes<a class="headerlink" href="#fixes-10" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Work around a Python bug that led to our asyncio-based command runner
intermittently failing to capture the output of commands that exit
very quickly.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4835">#4835</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>
displayed an overestimate of the transfer size when multiple files
pointed to the same key.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4821">#4821</a>)</p></li>
<li><p>When
<a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-download-url.html">download-url</a>
calls <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">addurl</span></code>, it catches and reports any failures
rather than crashing. A change in v0.12.0 broke this handling in a
particular case.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4817">#4817</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-8">
<span id="id40"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-8" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The wrapper functions returned by decorators are now given more
meaningful names to hopefully make tracebacks easier to digest.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4834">#4834</a>)</p></li>
</ul>
</section>
</section>
<section id="august-10-2020">
<h2>0.13.2 (August 10, 2020) – .<a class="headerlink" href="#august-10-2020" title="Permalink to this headline"></a></h2>
<section id="deprecations">
<h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">allow_quick</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">AnnexRepo.file_has_content</span></code> and
<code class="docutils literal notranslate"><span class="pre">AnnexRepo.is_under_annex</span></code> is now ignored and will be removed in a
later release. This parameter was only relevant for git-annex
versions before 7.20190912.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4736">#4736</a>)</p></li>
</ul>
</section>
<section id="fixes-11">
<span id="id41"></span><h3>Fixes<a class="headerlink" href="#fixes-11" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Updates for compatibility with recent git and git-annex releases.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4746">#4746</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4760">#4760</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4684">#4684</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>
didn’t sync the git-annex branch when <code class="docutils literal notranslate"><span class="pre">--data=nothing</span></code> was
specified.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4786">#4786</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">datalad.clone.reckless</span></code> configuration wasn’t stored in
non-annex datasets, preventing the values from being inherited by
annex subdatasets.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4749">#4749</a>)</p></li>
<li><p>Running the post-update hook installed by <code class="docutils literal notranslate"><span class="pre">create-sibling</span> <span class="pre">--ui</span></code>
could overwrite web log files from previous runs in the unlikely
event that the hook was executed multiple times in the same second.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4745">#4745</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
inspected git’s standard error in a way that could cause an attribute
error. (<a class="reference external" href="https://github.com/datalad/datalad/issues/4775">#4775</a>)</p></li>
<li><p>When cloning a repository whose <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> points to a branch without
commits,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
tries to find a more useful branch to check out. It unwisely
considered adjusted branches.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4792">#4792</a>)</p></li>
<li><p>Since v0.12.0, <code class="docutils literal notranslate"><span class="pre">SSHManager.close</span></code> hasn’t closed connections when
the <code class="docutils literal notranslate"><span class="pre">ctrl_path</span></code> argument was explicitly given.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4757">#4757</a>)</p></li>
<li><p>When working in a dataset in which <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">init</span></code> had not yet
been called, the <code class="docutils literal notranslate"><span class="pre">file_has_content</span></code> and <code class="docutils literal notranslate"><span class="pre">is_under_annex</span></code> methods
of <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> incorrectly took the “allow quick” code path on file
systems that did not support it
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4736">#4736</a>)</p></li>
</ul>
</section>
<section id="enhancements">
<h3>Enhancements<a class="headerlink" href="#enhancements" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>
now assigns version 4 (random) UUIDs instead of version 1 UUIDs that
encode the time and hardware address.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4790">#4790</a>)</p></li>
<li><p>The documentation for
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>
now does a better job of describing the interaction between
<code class="docutils literal notranslate"><span class="pre">--dataset</span></code> and <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4763">#4763</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">format_commit</span></code> and <code class="docutils literal notranslate"><span class="pre">get_hexsha</span></code> methods of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> have
been sped up.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4807">#4807</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4806">#4806</a>)</p></li>
<li><p>A better error message is now shown when the <code class="docutils literal notranslate"><span class="pre">^</span></code> or <code class="docutils literal notranslate"><span class="pre">^.</span></code>
shortcuts for <code class="docutils literal notranslate"><span class="pre">--dataset</span></code> do not resolve to a dataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4759">#4759</a>)</p></li>
<li><p>A more helpful error message is now shown if a caller tries to
download an <code class="docutils literal notranslate"><span class="pre">ftp://</span></code> link but does not have <code class="docutils literal notranslate"><span class="pre">request_ftp</span></code>
installed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4788">#4788</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
now tries harder to get up-to-date availability information after
auto-enabling <code class="docutils literal notranslate"><span class="pre">type=git</span></code> special remotes.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2897">#2897</a>)</p></li>
</ul>
</section>
</section>
<section id="july-17-2020">
<h2>0.13.1 (July 17, 2020) – .<a class="headerlink" href="#july-17-2020" title="Permalink to this headline"></a></h2>
<section id="fixes-12">
<span id="id42"></span><h3>Fixes<a class="headerlink" href="#fixes-12" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Cloning a subdataset should inherit the parent’s
<code class="docutils literal notranslate"><span class="pre">datalad.clone.reckless</span></code> value, but that did not happen when
cloning via <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">get</span></code> rather than <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">install</span></code> or
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">clone</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4657">#4657</a>)</p></li>
<li><p>The default result renderer crashed when the result did not have a
<code class="docutils literal notranslate"><span class="pre">path</span></code> key.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4666">#4666</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4673">#4673</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">push</span></code> didn’t show information about <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> errors
when the output was not in the format that it expected.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4674">#4674</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">push</span></code> silently accepted an empty string for <code class="docutils literal notranslate"><span class="pre">--since</span></code>
even though it is an invalid value.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4682">#4682</a>)</p></li>
<li><p>Our JavaScript testing setup on Travis grew stale and has now been
updated. (Thanks to Xiao Gui.)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4687">#4687</a>)</p></li>
<li><p>The new class for running Git commands (added in v0.13.0) ignored any
changes to the process environment that occurred after instantiation.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4703">#4703</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-9">
<span id="id43"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-9" title="Permalink to this headline"></a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">push</span></code> now avoids unnecessary <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> dry runs and
pushes all refspecs with a single <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> call rather than
invoking <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> for each one.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4692">#4692</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4675">#4675</a>)</p></li>
<li><p>The readability of SSH error messages has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4729">#4729</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad.support.annexrepo</span></code> avoids calling
<code class="docutils literal notranslate"><span class="pre">datalad.utils.get_linux_distribution</span></code> at import time and caches
the result once it is called because, as of Python 3.8, the function
uses <code class="docutils literal notranslate"><span class="pre">distro</span></code> underneath, adding noticeable overhead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4696">#4696</a>)</p>
<p>Third-party code should be updated to use <code class="docutils literal notranslate"><span class="pre">get_linux_distribution</span></code>
directly in the unlikely event that the code relied on the
import-time call to <code class="docutils literal notranslate"><span class="pre">get_linux_distribution</span></code> setting the
<code class="docutils literal notranslate"><span class="pre">linux_distribution_name</span></code>, <code class="docutils literal notranslate"><span class="pre">linux_distribution_release</span></code>, or
<code class="docutils literal notranslate"><span class="pre">on_debian_wheezy</span></code> attributes in `datalad.utils.</p>
</li>
</ul>
</section>
</section>
<section id="june-23-2020">
<h2>0.13.0 (June 23, 2020) – .<a class="headerlink" href="#june-23-2020" title="Permalink to this headline"></a></h2>
<p>A handful of new commands, including <code class="docutils literal notranslate"><span class="pre">copy-file</span></code>, <code class="docutils literal notranslate"><span class="pre">push</span></code>, and
<code class="docutils literal notranslate"><span class="pre">create-sibling-ria</span></code>, along with various fixes and enhancements</p>
<section id="major-refactoring-and-deprecations-1">
<span id="id44"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">no_annex</span></code> parameter of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>,
which is exposed in the Python API but not the command line, is
deprecated and will be removed in a later release. Use the new
<code class="docutils literal notranslate"><span class="pre">annex</span></code> argument instead, flipping the value. Command-line callers
that use <code class="docutils literal notranslate"><span class="pre">--no-annex</span></code> are unaffected.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4321">#4321</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">add</span></code>, which was deprecated in 0.12.0, has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4158">#4158</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4319">#4319</a>)</p></li>
<li><p>The following <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> and <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> methods have been
removed: <code class="docutils literal notranslate"><span class="pre">get_changed_files</span></code>, <code class="docutils literal notranslate"><span class="pre">get_missing_files</span></code>, and
<code class="docutils literal notranslate"><span class="pre">get_deleted_files</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4169">#4169</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4158">#4158</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_branch_commits</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> and <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code>
has been renamed to <code class="docutils literal notranslate"><span class="pre">get_branch_commits_</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3834">#3834</a>)</p></li>
<li><p>The custom <code class="docutils literal notranslate"><span class="pre">commit</span></code> method of <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> has been removed, and
<code class="docutils literal notranslate"><span class="pre">AnnexRepo.commit</span></code> now resolves to the parent method,
<code class="docutils literal notranslate"><span class="pre">GitRepo.commit</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4168">#4168</a>)</p></li>
<li><p>GitPython’s <code class="docutils literal notranslate"><span class="pre">git.repo.base.Repo</span></code> class is no longer available via
the <code class="docutils literal notranslate"><span class="pre">.repo</span></code> attribute of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> and <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4172">#4172</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.get_corresponding_branch</span></code> now returns <code class="docutils literal notranslate"><span class="pre">None</span></code> rather
than the current branch name when a managed branch is not checked
out. (<a class="reference external" href="https://github.com/datalad/datalad/issues/4274">#4274</a>)</p></li>
<li><p>The special UUID for git-annex web remotes is now available as
<code class="docutils literal notranslate"><span class="pre">datalad.consts.WEB_SPECIAL_REMOTE_UUID</span></code>. It remains accessible as
<code class="docutils literal notranslate"><span class="pre">AnnexRepo.WEB_UUID</span></code> for compatibility, but new code should use
<code class="docutils literal notranslate"><span class="pre">consts.WEB_SPECIAL_REMOTE_UUID</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4460">#4460</a>).</p></li>
</ul>
</section>
<section id="fixes-13">
<span id="id45"></span><h3>Fixes<a class="headerlink" href="#fixes-13" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Widespread improvements in functionality and test coverage on Windows
and crippled file systems in general.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4057">#4057</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4245">#4245</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4268">#4268</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4276">#4276</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4291">#4291</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4296">#4296</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4301">#4301</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4303">#4303</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4304">#4304</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4305">#4305</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4306">#4306</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.get_size_from_key</span></code> incorrectly handled file chunks.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4081">#4081</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>
would too readily clobber existing paths when called with
<code class="docutils literal notranslate"><span class="pre">--existing=replace</span></code>. It now gets confirmation from the user before
doing so if running interactively and unconditionally aborts when
running non-interactively.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4147">#4147</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4159">#4159</a>)</p>
<ul>
<li><p>queried the incorrect branch configuration when updating non-annex
repositories.</p></li>
<li><p>didn’t account for the fact that the local repository can be
configured as the upstream “remote” for a branch.</p></li>
</ul>
</li>
<li><p>When the caller included <code class="docutils literal notranslate"><span class="pre">--bare</span></code> as a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code> option,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>
crashed creating the bare repository, which is currently unsupported,
rather than aborting with an informative error message.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4065">#4065</a>)</p></li>
<li><p>The logic for automatically propagating the ‘origin’ remote when
cloning a local source could unintentionally trigger a fetch of a
non-local remote.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4196">#4196</a>)</p></li>
<li><p>All remaining <code class="docutils literal notranslate"><span class="pre">get_submodules()</span></code> call sites that relied on the
temporary compatibility layer added in v0.12.0 have been updated.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4348">#4348</a>)</p></li>
<li><p>The custom result summary renderer for
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>,
which was visible with <code class="docutils literal notranslate"><span class="pre">--output-format=tailored</span></code>, displayed
incorrect and confusing information in some cases. The custom
renderer has been removed entirely.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4471">#4471</a>)</p></li>
<li><p>The documentation for the Python interface of a command listed an
incorrect default when the command overrode the value of command
parameters such as <code class="docutils literal notranslate"><span class="pre">result_renderer</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4480">#4480</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-10">
<span id="id46"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-10" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The default result renderer learned to elide a chain of results after
seeing ten consecutive results that it considers similar, which
improves the display of actions that have many results (e.g., saving
hundreds of files).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4337">#4337</a>)</p></li>
<li><p>The default result renderer, in addition to “tailored” result
renderer, now triggers the custom summary renderer, if any.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4338">#4338</a>)</p></li>
<li><p>The new command
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-ria.html">create-sibling-ria</a>
provides support for creating a sibling in a <a class="reference external" href="http://handbook.datalad.org/en/latest/usecases/datastorage_for_institutions.html">RIA
store</a>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4124">#4124</a>)</p></li>
<li><p>DataLad ships with a new special remote, git-annex-remote-ora, for
interacting with <a class="reference external" href="http://handbook.datalad.org/en/latest/usecases/datastorage_for_institutions.html">RIA
stores</a>
and a new command
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-export-archive-ora.html">export-archive-ora</a>
for exporting an archive from a local annex object store.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4260">#4260</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4203">#4203</a>)</p></li>
<li><p>The new command
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-push.html">push</a>
provides an alternative interface to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
for pushing a dataset hierarchy to a sibling.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4206">#4206</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4581">#4581</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4617">#4617</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4620">#4620</a>)</p></li>
<li><p>The new command
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-copy-file.html">copy-file</a>
copies files and associated availability information from one dataset
to another.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4430">#4430</a>)</p></li>
<li><p>The command examples have been expanded and improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4091">#4091</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4314">#4314</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4464">#4464</a>)</p></li>
<li><p>The tooling for linking to the <a class="reference external" href="http://handbook.datalad.org">DataLad
Handbook</a> from DataLad’s
documentation has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4046">#4046</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--reckless</span></code> parameter of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
learned two new modes:</p>
<ul>
<li><p>“ephemeral”, where the .git/annex/ of the cloned repository is
symlinked to the local source repository’s.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4099">#4099</a>)</p></li>
<li><p>“shared-{group|all|…}” that can be used to set up datasets for
collaborative write access.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4324">#4324</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a></p>
<ul>
<li><p>learned to handle dataset aliases in RIA stores when given a URL
of the form <code class="docutils literal notranslate"><span class="pre">ria+&lt;protocol&gt;://&lt;storelocation&gt;#~&lt;aliasname&gt;</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4459">#4459</a>)</p></li>
<li><p>now checks <code class="docutils literal notranslate"><span class="pre">datalad.get.subdataset-source-candidate-NAME</span></code> to see
if <code class="docutils literal notranslate"><span class="pre">NAME</span></code> starts with three digits, which is taken as a “cost”.
Sources with lower costs will be tried first.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4619">#4619</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4167">#4167</a>)</p>
<ul>
<li><p>learned to disallow non-fast-forward updates when <code class="docutils literal notranslate"><span class="pre">ff-only</span></code> is
given to the <code class="docutils literal notranslate"><span class="pre">--merge</span></code> option.</p></li>
<li><p>gained a <code class="docutils literal notranslate"><span class="pre">--follow</span></code> option that controls how <code class="docutils literal notranslate"><span class="pre">--merge</span></code>
behaves, adding support for merging in the revision that is
registered in the parent dataset rather than merging in the
configured branch from the sibling.</p></li>
<li><p>now provides a result record for merge events.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>
now supports local paths as targets in addition to SSH URLs.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4187">#4187</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
now</p>
<ul>
<li><p>shows a warning if the caller requests to delete a sibling that
does not exist.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4257">#4257</a>)</p></li>
<li><p>phrases its warning about non-annex repositories in a less
alarming way.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4323">#4323</a>)</p></li>
</ul>
</li>
<li><p>The rendering of command errors has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4157">#4157</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
now</p>
<ul>
<li><p>displays a message to signal that the working tree is clean,
making it more obvious that no results being rendered corresponds
to a clean state.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4106">#4106</a>)</p></li>
<li><p>provides a stronger warning against using <code class="docutils literal notranslate"><span class="pre">--to-git</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4290">#4290</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
learned about scenarios where they could avoid unnecessary and
expensive work.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4526">#4526</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4544">#4544</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4549">#4549</a>)</p></li>
<li><p>Calling
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>
without <code class="docutils literal notranslate"><span class="pre">--recursive</span></code> but with a path constraint within a
subdataset (“/”) now traverses into the subdataset, as “/” would,
restricting its report to “/”.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4235">#4235</a>)</p></li>
<li><p>New option <code class="docutils literal notranslate"><span class="pre">datalad.annex.retry</span></code> controls how many times git-annex
will retry on a failed transfer. It defaults to 3 and can be set to 0
to restore the previous behavior.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4382">#4382</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-wtf.html">wtf</a>
now warns when the specified dataset does not exist.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4331">#4331</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">repr</span></code> and <code class="docutils literal notranslate"><span class="pre">str</span></code> output of the dataset and repo classes got a
facelift.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4420">#4420</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4435">#4435</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4439">#4439</a>)</p></li>
<li><p>The DataLad Singularity container now comes with p7zip-full.</p></li>
<li><p>DataLad emits a log message when the current working directory is
resolved to a different location due to a symlink. This is now logged
at the DEBUG rather than WARNING level, as it typically does not
indicate a problem.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4426">#4426</a>)</p></li>
<li><p>DataLad now lets the caller know that <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">init</span></code> is scanning
for unlocked files, as this operation can be slow in some
repositories.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4316">#4316</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">log_progress</span></code> helper learned how to set the starting point to
a non-zero value and how to update the total of an existing progress
bar, two features needed for planned improvements to how some
commands display their progress.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4438">#4438</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ExternalVersions</span></code> object, which is used to check versions of
Python modules and external tools (e.g., git-annex), gained an
<code class="docutils literal notranslate"><span class="pre">add</span></code> method that enables DataLad extensions and other third-party
code to include other programs of interest.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4441">#4441</a>)</p></li>
<li><p>All of the remaining spots that use GitPython have been rewritten
without it. Most notably, this includes rewrites of the <code class="docutils literal notranslate"><span class="pre">clone</span></code>,
<code class="docutils literal notranslate"><span class="pre">fetch</span></code>, and <code class="docutils literal notranslate"><span class="pre">push</span></code> methods of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4080">#4080</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4087">#4087</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4170">#4170</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4171">#4171</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4175">#4175</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4172">#4172</a>)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">GitRepo.commit</span></code> splits its operation across multiple calls to
avoid exceeding the maximum command line length, it now amends to
initial commit rather than creating multiple commits.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4156">#4156</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> gained a <code class="docutils literal notranslate"><span class="pre">get_corresponding_branch</span></code> method (which
always returns None), allowing a caller to invoke the method without
needing to check if the underlying repo class is <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> or
<code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4274">#4274</a>)</p></li>
<li><p>A new helper function <code class="docutils literal notranslate"><span class="pre">datalad.core.local.repo.repo_from_path</span></code>
returns a repo class for a specified path.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4273">#4273</a>)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> method <code class="docutils literal notranslate"><span class="pre">localsync</span></code> performs a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">sync</span></code>
that disables external interaction and is particularly useful for
propagating changes on an adjusted branch back to the main branch.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4243">#4243</a>)</p></li>
</ul>
</section>
</section>
<section id="may-22-2020">
<h2>0.12.7 (May 22, 2020) – .<a class="headerlink" href="#may-22-2020" title="Permalink to this headline"></a></h2>
<section id="fixes-14">
<span id="id47"></span><h3>Fixes<a class="headerlink" href="#fixes-14" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Requesting tailored output (<code class="docutils literal notranslate"><span class="pre">--output=tailored</span></code>) from a command
with a custom result summary renderer produced repeated output.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4463">#4463</a>)</p></li>
<li><p>A longstanding regression in argcomplete-based command-line
completion for Bash has been fixed. You can enable completion by
configuring a Bash startup file to run
<code class="docutils literal notranslate"><span class="pre">eval</span> <span class="pre">&quot;$(register-python-argcomplete</span> <span class="pre">datalad)&quot;</span></code> or source DataLad’s
<code class="docutils literal notranslate"><span class="pre">tools/cmdline-completion</span></code>. The latter should work for Zsh as well.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4477">#4477</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
didn’t prevent <code class="docutils literal notranslate"><span class="pre">git-fetch</span></code> from recursing into submodules, leading
to a failure when the registered submodule was not present locally
and the submodule did not have a remote named ‘origin’.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4560">#4560</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a>
botched path handling when the file name format started with “./” and
the call was made from a subdirectory of the dataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4504">#4504</a>)</p></li>
<li><p>Double dash options in manpages were unintentionally escaped.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4332">#4332</a>)</p></li>
<li><p>The check for HTTP authentication failures crashed in situations
where content came in as bytes rather than unicode.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4543">#4543</a>)</p></li>
<li><p>A check in <code class="docutils literal notranslate"><span class="pre">AnnexRepo.whereis</span></code> could lead to a type error.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4552">#4552</a>)</p></li>
<li><p>When installing a dataset to obtain a subdataset,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
confusingly displayed a message that described the containing dataset
as “underneath” the subdataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4456">#4456</a>)</p></li>
<li><p>A couple of Makefile rules didn’t properly quote paths.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4481">#4481</a>)</p></li>
<li><p>With DueCredit support enabled (<code class="docutils literal notranslate"><span class="pre">DUECREDIT_ENABLE=1</span></code>), the query
for metadata information could flood the output with warnings if
datasets didn’t have aggregated metadata. The warnings are now
silenced, with the overall failure of a
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-metadata.html">metadata</a>
call logged at the debug level.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4568">#4568</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-11">
<span id="id48"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-11" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The resource identifier helper learned to recognize URLs with
embedded Git transport information, such as
gcrypt::https://example.com.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4529">#4529</a>)</p></li>
<li><p>When running non-interactively, a more informative error is now
signaled when the UI backend, which cannot display a question, is
asked to do so.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4553">#4553</a>)</p></li>
</ul>
</section>
</section>
<section id="april-23-2020">
<h2>0.12.6 (April 23, 2020) – .<a class="headerlink" href="#april-23-2020" title="Permalink to this headline"></a></h2>
<section id="major-refactoring-and-deprecations-2">
<span id="id49"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The value of <code class="docutils literal notranslate"><span class="pre">datalad.support.annexrep.N_AUTO_JOBS</span></code> is no longer
considered. The variable will be removed in a later release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4409">#4409</a>)</p></li>
</ul>
</section>
<section id="fixes-15">
<span id="id50"></span><h3>Fixes<a class="headerlink" href="#fixes-15" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Staring with v0.12.0, <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span></code> recorded the current branch of
a parent dataset as the <code class="docutils literal notranslate"><span class="pre">branch</span></code> value in the .gitmodules entry for
a subdataset. This behavior is problematic for a few reasons and has
been reverted.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4375">#4375</a>)</p></li>
<li><p>The default for the <code class="docutils literal notranslate"><span class="pre">--jobs</span></code> option, “auto”, instructed DataLad to
pass a value to git-annex’s <code class="docutils literal notranslate"><span class="pre">--jobs</span></code> equal to
<code class="docutils literal notranslate"><span class="pre">min(8,</span> <span class="pre">max(3,</span> <span class="pre">&lt;number</span> <span class="pre">of</span> <span class="pre">CPUs&gt;))</span></code>, which could lead to issues due
to the large number of child processes spawned and file descriptors
opened. To avoid this behavior, <code class="docutils literal notranslate"><span class="pre">--jobs=auto</span></code> now results in
git-annex being called with <code class="docutils literal notranslate"><span class="pre">--jobs=1</span></code> by default. Configure the
new option <code class="docutils literal notranslate"><span class="pre">datalad.runtime.max-annex-jobs</span></code> to control the maximum
value that will be considered when <code class="docutils literal notranslate"><span class="pre">--jobs='auto'</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4409">#4409</a>)</p></li>
<li><p>Various commands have been adjusted to better handle the case where a
remote’s HEAD ref points to an unborn branch.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4370">#4370</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a></p>
<ul>
<li><p>learned to use the query as a regular expression that restricts
the keys that are shown for <code class="docutils literal notranslate"><span class="pre">--show-keys</span> <span class="pre">short</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4354">#4354</a>)</p></li>
<li><p>gives a more helpful message when query is an invalid regular
expression.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4398">#4398</a>)</p></li>
</ul>
</li>
<li><p>The code for parsing Git configuration did not follow Git’s behavior
of accepting a key with no value as shorthand for key=true.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4421">#4421</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.info</span></code> needed a compatibility update for a change in how
git-annex reports file names.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4431">#4431</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-github.html">create-sibling-github</a>
did not gracefully handle a token that did not have the necessary
permissions.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4400">#4400</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-12">
<span id="id51"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-12" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a>
learned to use the query as a regular expression that restricts the
keys that are shown for <code class="docutils literal notranslate"><span class="pre">--show-keys</span> <span class="pre">short</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4354">#4354</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">&lt;subcommand&gt;</span></code> learned to point to the
<a class="reference external" href="https://github.com/datalad/datalad-container">datalad-container</a>
extension when a subcommand from that extension is given but the
extension is not installed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4400">#4400</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4174">#4174</a>)</p></li>
</ul>
</section>
</section>
<section id="apr-02-2020-a-small-step-for-datalad">
<h2>0.12.5 (Apr 02, 2020) – a small step for datalad …<a class="headerlink" href="#apr-02-2020-a-small-step-for-datalad" title="Permalink to this headline"></a></h2>
<p>Fix some bugs and make the world an even better place.</p>
<section id="fixes-16">
<span id="id52"></span><h3>Fixes<a class="headerlink" href="#fixes-16" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Our <code class="docutils literal notranslate"><span class="pre">log_progress</span></code> helper mishandled the initial display and step
of the progress bar.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4326">#4326</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.get_content_annexinfo</span></code> is designed to accept
<code class="docutils literal notranslate"><span class="pre">init=None</span></code>, but passing that led to an error.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4330">#4330</a>)</p></li>
<li><p>Update a regular expression to handle an output change in Git
v2.26.0. (<a class="reference external" href="https://github.com/datalad/datalad/issues/4328">#4328</a>)</p></li>
<li><p>We now set <code class="docutils literal notranslate"><span class="pre">LC_MESSAGES</span></code> to ‘C’ while running git to avoid failures
when parsing output that is marked for translation.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4342">#4342</a>)</p></li>
<li><p>The helper for decoding JSON streams loaded the last line of input
without decoding it if the line didn’t end with a new line, a
regression introduced in the 0.12.0 release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4361">#4361</a>)</p></li>
<li><p>The clone command failed to git-annex-init a fresh clone whenever it
considered to add the origin of the origin as a remote.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4367">#4367</a>)</p></li>
</ul>
</section>
</section>
<section id="mar-19-2020-windows">
<h2>0.12.4 (Mar 19, 2020) – Windows?!<a class="headerlink" href="#mar-19-2020-windows" title="Permalink to this headline"></a></h2>
<p>The main purpose of this release is to have one on PyPi that has no
associated wheel to enable a working installation on Windows
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4315">#4315</a>).</p>
<section id="fixes-17">
<span id="id53"></span><h3>Fixes<a class="headerlink" href="#fixes-17" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The description of the <code class="docutils literal notranslate"><span class="pre">log.outputs</span></code> config switch did not keep up
with code changes and incorrectly stated that the output would be
logged at the DEBUG level; logging actually happens at a lower level.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4317">#4317</a>)</p></li>
</ul>
</section>
</section>
<section id="march-16-2020">
<h2>0.12.3 (March 16, 2020) – .<a class="headerlink" href="#march-16-2020" title="Permalink to this headline"></a></h2>
<p>Updates for compatibility with the latest git-annex, along with a few
miscellaneous fixes</p>
<section id="major-refactoring-and-deprecations-3">
<span id="id54"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>All spots that raised a <code class="docutils literal notranslate"><span class="pre">NoDatasetArgumentFound</span></code> exception now
raise a <code class="docutils literal notranslate"><span class="pre">NoDatasetFound</span></code> exception to better reflect the situation:
it is the <em>dataset</em> rather than the <em>argument</em> that is not found. For
compatibility, the latter inherits from the former, but new code
should prefer the latter.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4285">#4285</a>)</p></li>
</ul>
</section>
<section id="fixes-18">
<span id="id55"></span><h3>Fixes<a class="headerlink" href="#fixes-18" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Updates for compatibility with git-annex version 8.20200226.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4214">#4214</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">export-to-figshare</span></code> failed to export if the generated
title was fewer than three characters. It now queries the caller for
the title and guards against titles that are too short.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4140">#4140</a>)</p></li>
<li><p>Authentication was requested multiple times when git-annex launched
parallel downloads from the <code class="docutils literal notranslate"><span class="pre">datalad</span></code> special remote.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4308">#4308</a>)</p></li>
<li><p>At verbose logging levels, DataLad requests that git-annex display
debugging information too. Work around a bug in git-annex that
prevented that from happening.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4212">#4212</a>)</p></li>
<li><p>The internal command runner looked in the wrong place for some
configuration variables, including <code class="docutils literal notranslate"><span class="pre">datalad.log.outputs</span></code>, resulting
in the default value always being used.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4194">#4194</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
failed when trying to publish to a git-lfs special remote for the
first time.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4200">#4200</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.set_remote_url</span></code> is supposed to establish shared SSH
connections but failed to do so.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4262">#4262</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-13">
<span id="id56"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-13" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The message provided when a command cannot determine what dataset to
operate on has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4285">#4285</a>)</p></li>
<li><p>The “aws-s3” authentication type now allows specifying the host
through “aws-s3_host”, which was needed to work around an
authorization error due to a longstanding upstream bug.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4239">#4239</a>)</p></li>
<li><p>The xmp metadata extractor now recognizes “.wav” files.</p></li>
</ul>
</section>
</section>
<section id="jan-28-2020-smoothen-the-ride">
<h2>0.12.2 (Jan 28, 2020) – Smoothen the ride<a class="headerlink" href="#jan-28-2020-smoothen-the-ride" title="Permalink to this headline"></a></h2>
<p>Mostly a bugfix release with various robustifications, but also makes
the first step towards versioned dataset installation requests.</p>
<section id="major-refactoring-and-deprecations-4">
<span id="id57"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-4" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The minimum required version for GitPython is now 2.1.12.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4070">#4070</a>)</p></li>
</ul>
</section>
<section id="fixes-19">
<span id="id58"></span><h3>Fixes<a class="headerlink" href="#fixes-19" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The class for handling configuration values, <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>,
inappropriately considered the current working directory’s dataset,
if any, for both reading and writing when instantiated with
<code class="docutils literal notranslate"><span class="pre">dataset=None</span></code>. This misbehavior is fairly inaccessible through
typical use of DataLad. It affects <code class="docutils literal notranslate"><span class="pre">datalad.cfg</span></code>, the top-level
configuration instance that should not consider repository-specific
values. It also affects Python users that call <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> with a
path that does not yet exist and persists until that dataset is
created. (<a class="reference external" href="https://github.com/datalad/datalad/issues/4078">#4078</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
saved the dataset when called with <code class="docutils literal notranslate"><span class="pre">--merge</span></code>, which is unnecessary
and risks committing unrelated changes.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3996">#3996</a>)</p></li>
<li><p>Confusing and irrelevant information about Python defaults have been
dropped from the command-line help.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4002">#4002</a>)</p></li>
<li><p>The logic for automatically propagating the ‘origin’ remote when
cloning a local source didn’t properly account for relative paths.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4045">#4045</a>)</p></li>
<li><p>Various fixes to file name handling and quoting on Windows.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4049">#4049</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4050">#4050</a>)</p></li>
<li><p>When cloning failed, error lines were not bubbled up to the user in
some scenarios.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4060">#4060</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-14">
<span id="id59"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-14" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
(and thus
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>)</p>
<ul>
<li><p>now propagates the <code class="docutils literal notranslate"><span class="pre">reckless</span></code> mode from the superdataset when
cloning a dataset into it.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4037">#4037</a>)</p></li>
<li><p>gained support for <code class="docutils literal notranslate"><span class="pre">ria+&lt;protocol&gt;://</span></code> URLs that point to
<a class="reference external" href="http://handbook.datalad.org/en/latest/usecases/datastorage_for_institutions.html">RIA</a>
stores.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4022">#4022</a>)</p></li>
<li><p>learned to read “&#64;version” from <code class="docutils literal notranslate"><span class="pre">ria+</span></code> URLs and install that
version of a dataset
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4036">#4036</a>) and
to apply URL rewrites configured through Git’s <code class="docutils literal notranslate"><span class="pre">url.*.insteadOf</span></code>
mechanism
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4064">#4064</a>).</p></li>
<li><p>now copies <code class="docutils literal notranslate"><span class="pre">datalad.get.subdataset-source-candidate-&lt;name&gt;</span></code>
options configured within the superdataset into the subdataset.
This is particularly useful for RIA data stores.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4073">#4073</a>)</p></li>
</ul>
</li>
<li><p>Archives are now (optionally) handled with 7-Zip instead of
<code class="docutils literal notranslate"><span class="pre">patool</span></code>. 7-Zip will be used by default, but <code class="docutils literal notranslate"><span class="pre">patool</span></code> will be
used on non-Windows systems if the <code class="docutils literal notranslate"><span class="pre">datalad.runtime.use-patool</span></code>
option is set or the <code class="docutils literal notranslate"><span class="pre">7z</span></code> executable is not found.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/4041">#4041</a>)</p></li>
</ul>
</section>
</section>
<section id="jan-15-2020-small-bump-after-big-bang">
<h2>0.12.1 (Jan 15, 2020) – Small bump after big bang<a class="headerlink" href="#jan-15-2020-small-bump-after-big-bang" title="Permalink to this headline"></a></h2>
<p>Fix some fallout after major release.</p>
<section id="fixes-20">
<span id="id60"></span><h3>Fixes<a class="headerlink" href="#fixes-20" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Revert incorrect relative path adjustment to URLs in
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3538">#3538</a>)</p></li>
<li><p>Various small fixes to internal helpers and test to run on Windows
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2566">#2566</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2534">#2534</a>)</p></li>
</ul>
</section>
</section>
<section id="jan-11-2020-krakatoa">
<h2>0.12.0 (Jan 11, 2020) – Krakatoa<a class="headerlink" href="#jan-11-2020-krakatoa" title="Permalink to this headline"></a></h2>
<p>This release is the result of more than a year of development that
includes fixes for a large number of issues, yielding more robust
behavior across a wider range of use cases, and introduces major changes
in API and behavior. It is the first release for which extensive user
documentation is available in a dedicated <a class="reference external" href="http://handbook.datalad.org">DataLad
Handbook</a>. Python 3 (3.5 and later) is
now the only supported Python flavor.</p>
<section id="major-changes-0-12-vs-0-11">
<h3>Major changes 0.12 vs 0.11<a class="headerlink" href="#major-changes-0-12-vs-0-11" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
fully replaces
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add.html">add</a>
(which is obsolete now, and will be removed in a future release).</p></li>
<li><p>A new Git-annex aware
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>
command enables detailed inspection of dataset hierarchies. The
previously available
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>
command has been adjusted to match
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>
in argument semantics and behavior.</p></li>
<li><p>The ability to configure dataset procedures prior and after the
execution of particular commands has been replaced by a flexible
“hook” mechanism that is able to run arbitrary DataLad commands
whenever command results are detected that match a specification.</p></li>
<li><p>Support of the Windows platform has been improved substantially.
While performance and feature coverage on Windows still falls behind
Unix-like systems, typical data consumer use cases, and standard
dataset operations, such as
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>,
are now working. Basic support for data provenance capture via
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
is also functional.</p></li>
<li><p>Support for Git-annex direct mode repositories has been removed,
following the end of support in Git-annex itself.</p></li>
<li><p>The semantics of relative paths in command line arguments have
changed. Previously, a call
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span> <span class="pre">--dataset</span> <span class="pre">/tmp/myds</span> <span class="pre">some/relpath</span></code> would have been
interpreted as saving a file at <code class="docutils literal notranslate"><span class="pre">/tmp/myds/some/relpath</span></code> into
dataset <code class="docutils literal notranslate"><span class="pre">/tmp/myds</span></code>. This has changed to saving
<code class="docutils literal notranslate"><span class="pre">$PWD/some/relpath</span></code> into dataset <code class="docutils literal notranslate"><span class="pre">/tmp/myds</span></code>. More generally,
relative paths are now always treated as relative to the current
working directory, except for path arguments of
<a class="reference external" href="http://docs.datalad.org/en/latest/generated/datalad.api.Dataset.html">Dataset</a>
class instance methods of the Python API. The resulting partial
duplication of path specifications between path and dataset arguments
is mitigated by the introduction of two special symbols that can be
given as dataset argument: <code class="docutils literal notranslate"><span class="pre">^</span></code> and <code class="docutils literal notranslate"><span class="pre">^.</span></code>, which identify the
topmost superdataset and the closest dataset that contains the
working directory, respectively.</p></li>
<li><p>The concept of a “core API” has been introduced. Commands situated in
the module <code class="docutils literal notranslate"><span class="pre">datalad.core</span></code> (such as
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>)
receive additional scrutiny regarding API and implementation, and are
meant to provide longer-term stability. Application developers are
encouraged to preferentially build on these commands.</p></li>
</ul>
</section>
<section id="major-refactoring-and-deprecations-since-0-12-0rc6">
<h3>Major refactoring and deprecations since 0.12.0rc6<a class="headerlink" href="#major-refactoring-and-deprecations-since-0-12-0rc6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
has been incorporated into the growing core API. The public
<code class="docutils literal notranslate"><span class="pre">--alternative-source</span></code> parameter has been removed, and a
<code class="docutils literal notranslate"><span class="pre">clone_dataset</span></code> function with multi-source capabilities is provided
instead. The <code class="docutils literal notranslate"><span class="pre">--reckless</span></code> parameter can now take literal mode
labels instead of just beeing a binary flag, but backwards
compatibility is maintained.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_file_content</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> was no longer used
internally or in any known DataLad extensions and has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3812">#3812</a>)</p></li>
<li><p>The function <code class="docutils literal notranslate"><span class="pre">get_dataset_root</span></code> has been replaced by
<code class="docutils literal notranslate"><span class="pre">rev_get_dataset_root</span></code>. <code class="docutils literal notranslate"><span class="pre">rev_get_dataset_root</span></code> remains as a
compatibility alias and will be removed in a later release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3815">#3815</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">add_sibling</span></code> module, marked obsolete in v0.6.0, has been
removed. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3871">#3871</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mock</span></code> is no longer declared as an external dependency because we
can rely on it being in the standard library now that our minimum
required Python version is 3.5.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3860">#3860</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-download-url.html">download-url</a>
now requires that directories be indicated with a trailing slash
rather than interpreting a path as directory when it doesn’t exist.
This avoids confusion that can result from typos and makes it
possible to support directory targets that do not exist.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3854">#3854</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">dataset_only</span></code> argument of the <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> class is
deprecated. Use <code class="docutils literal notranslate"><span class="pre">source=&quot;dataset&quot;</span></code> instead.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3907">#3907</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--proc-pre</span></code> and <code class="docutils literal notranslate"><span class="pre">--proc-post</span></code> options have been removed, and
configuration values for <code class="docutils literal notranslate"><span class="pre">datalad.COMMAND.proc-pre</span></code> and
<code class="docutils literal notranslate"><span class="pre">datalad.COMMAND.proc-post</span></code> are no longer honored. The new result
hook mechanism provides an alternative for <code class="docutils literal notranslate"><span class="pre">proc-post</span></code> procedures.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3963">#3963</a>)</p></li>
</ul>
</section>
<section id="fixes-since-0-12-0rc6">
<h3>Fixes since 0.12.0rc6<a class="headerlink" href="#fixes-since-0-12-0rc6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
crashed when called with a detached HEAD. It now aborts with an
informative message.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3804">#3804</a>)</p></li>
<li><p>Since 0.12.0rc6 the call to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
in
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
resulted in a spurious warning.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3877">#3877</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
crashed if it encountered an annex repository that was marked as
dead. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3892">#3892</a>)</p></li>
<li><p>The update of
<a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-rerun.html">rerun</a>
in v0.12.0rc3 for the rewritten
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>
command didn’t account for a change in the output of <code class="docutils literal notranslate"><span class="pre">diff</span></code>,
leading to <code class="docutils literal notranslate"><span class="pre">rerun</span> <span class="pre">--report</span></code> unintentionally including unchanged
files in its diff values.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3873">#3873</a>)</p></li>
<li><p>In 0.12.0rc5
<a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-download-url.html">download-url</a>
was updated to follow the new path handling logic, but its calls to
AnnexRepo weren’t properly adjusted, resulting in incorrect path
handling when the called from a dataset subdirectory.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3850">#3850</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-download-url.html">download-url</a>
called <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">addurl</span></code> in a way that failed to register a URL
when its header didn’t report the content size.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3911">#3911</a>)</p></li>
<li><p>With Git v2.24.0, saving new subdatasets failed due to a bug in that
Git release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3904">#3904</a>)</p></li>
<li><p>With DataLad configured to stop on failure (e.g., specifying
<code class="docutils literal notranslate"><span class="pre">--on-failure=stop</span></code> from the command line), a failing result record
was not rendered.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3863">#3863</a>)</p></li>
<li><p>Installing a subdataset yielded an “ok” status in cases where the
repository was not yet in its final state, making it ineffective for
a caller to operate on the repository in response to the result.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3906">#3906</a>)</p></li>
<li><p>The internal helper for converting git-annex’s JSON output did not
relay information from the “error-messages” field.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3931">#3931</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
reported relative paths that were confusingly not relative to the
current directory in some cases. It now always reports absolute
paths. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3959">#3959</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>
inappropriately reported files as deleted in some cases when <code class="docutils literal notranslate"><span class="pre">to</span></code>
was a value other than <code class="docutils literal notranslate"><span class="pre">None</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3999">#3999</a>)</p></li>
<li><p>An assortment of fixes for Windows compatibility.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3971">#3971</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3974">#3974</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3975">#3975</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3976">#3976</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3979">#3979</a>)</p></li>
<li><p>Subdatasets installed from a source given by relative path will now
have this relative path used as ‘url’ in their .gitmodules record,
instead of an absolute path generated by Git.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3538">#3538</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
will now correctly interpret ‘~/…’ paths as absolute path
specifications.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3958">#3958</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
mistakenly reported a directory as a procedure.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3793">#3793</a>)</p></li>
<li><p>The cleanup for batched git-annex processes has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3794">#3794</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3851">#3851</a>)</p></li>
<li><p>The function for adding a version ID to an AWS S3 URL doesn’t support
URLs with an “s3://” scheme and raises a <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>
exception when it encounters one. The function learned to return a
URL untouched if an “s3://” URL comes in with a version ID.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3842">#3842</a>)</p></li>
<li><p>A few spots needed to be adjusted for compatibility with git-annex’s
new <code class="docutils literal notranslate"><span class="pre">--sameas</span></code>
<a class="reference external" href="https://git-annex.branchable.com/tips/multiple_remotes_accessing_the_same_data_store/">feature</a>,
which allows special remotes to share a data store.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3856">#3856</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">swallow_logs</span></code> utility failed to capture some log messages due
to an incompatibility with Python 3.7.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3935">#3935</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a></p>
<ul>
<li><p>crashed if <code class="docutils literal notranslate"><span class="pre">--inherit</span></code> was passed but the parent dataset did not
have a remote with a matching name.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3954">#3954</a>)</p></li>
<li><p>configured the wrong pushurl and annexurl values in some cases.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3955">#3955</a>)</p></li>
</ul>
</li>
</ul>
</section>
<section id="enhancements-and-new-features-since-0-12-0rc6">
<h3>Enhancements and new features since 0.12.0rc6<a class="headerlink" href="#enhancements-and-new-features-since-0-12-0rc6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>By default, datasets cloned from local source paths will now get a
configured remote for any recursively discoverable ‘origin’ sibling
that is also available from a local path in order to maximize
automatic file availability across local annexes.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3926">#3926</a>)</p></li>
<li><p>The new <a class="reference external" href="http://handbook.datalad.org/en/latest/basics/101-145-hooks.html">result hooks
mechanism</a>
allows callers to specify, via local Git configuration values,
DataLad command calls that will be triggered in response to matching
result records (i.e., what you see when you call a command with
<code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">json_pp</span></code>).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3903">#3903</a>)</p></li>
<li><p>The command interface classes learned to use a new <code class="docutils literal notranslate"><span class="pre">_examples_</span></code>
attribute to render documentation examples for both the Python and
command-line API.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3821">#3821</a>)</p></li>
<li><p>Candidate URLs for cloning a submodule can now be generated based on
configured templates that have access to various properties of the
submodule, including its dataset ID.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3828">#3828</a>)</p></li>
<li><p>DataLad’s check that the user’s Git identity is configured has been
sped up and now considers the appropriate environment variables as
well. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3807">#3807</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tag</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> can now tag revisions other than
<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> and accepts a list of arbitrary <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span></code> options.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3787">#3787</a>)</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">get</span></code> clones a subdataset and the subdataset’s HEAD differs
from the commit that is registered in the parent, the active branch
of the subdataset is moved to the registered commit if the registered
commit is an ancestor of the subdataset’s HEAD commit. This handling
has been moved to a more central location within <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code>, and now
applies to any <code class="docutils literal notranslate"><span class="pre">update_submodule(...,</span> <span class="pre">init=True)</span></code> call.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3831">#3831</a>)</p></li>
<li><p>The output of <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">-h</span></code> has been reformatted to improve
readability.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3862">#3862</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-unlock.html">unlock</a>
has been sped up.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3880">#3880</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
learned to provide and render more information about discovered
procedures, including whether the procedure is overridden by another
procedure with the same base name.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3960">#3960</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
now (<a class="reference external" href="https://github.com/datalad/datalad/issues/3817">#3817</a>)</p>
<ul>
<li><p>records the active branch in the superdataset when registering a
new subdataset.</p></li>
<li><p>calls <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">sync</span></code> when saving a dataset on an adjusted
branch so that the changes are brought into the mainline branch.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-subdatasets.html">subdatasets</a>
now aborts when its <code class="docutils literal notranslate"><span class="pre">dataset</span></code> argument points to a non-existent
dataset. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3940">#3940</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-wtf.html">wtf</a>
now</p>
<ul>
<li><p>reports the dataset ID if the current working directory is
visiting a dataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3888">#3888</a>)</p></li>
<li><p>outputs entries deterministically.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3927">#3927</a>)</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> class</p>
<ul>
<li><p>learned to exclude <code class="docutils literal notranslate"><span class="pre">.datalad/config</span></code> as a source of
configuration values, restricting the sources to standard Git
configuration files, when called with <code class="docutils literal notranslate"><span class="pre">source=&quot;local&quot;</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3907">#3907</a>)</p></li>
<li><p>accepts a value of “override” for its <code class="docutils literal notranslate"><span class="pre">where</span></code> argument to allow
Python callers to more convenient override configuration.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3970">#3970</a>)</p></li>
</ul>
</li>
<li><p>Commands now accept a <code class="docutils literal notranslate"><span class="pre">dataset</span></code> value of “^.” as shorthand for “the
dataset to which the current directory belongs”.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3242">#3242</a>)</p></li>
</ul>
</section>
</section>
<section id="rc6-oct-19-2019-some-releases-are-better-than-the-others">
<h2>0.12.0rc6 (Oct 19, 2019) – some releases are better than the others<a class="headerlink" href="#rc6-oct-19-2019-some-releases-are-better-than-the-others" title="Permalink to this headline"></a></h2>
<p>bet we will fix some bugs and make a world even a better place.</p>
<section id="major-refactoring-and-deprecations-5">
<span id="id61"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>DataLad no longer supports Python 2. The minimum supported version of
Python is now 3.5.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3629">#3629</a>)</p></li>
<li><p>Much of the user-focused content at <a class="reference external" href="http://docs.datalad.org">http://docs.datalad.org</a> has been
removed in favor of more up to date and complete material available
in the <a class="reference external" href="http://handbook.datalad.org">DataLad Handbook</a>. Going
forward, the plan is to restrict <a class="reference external" href="http://docs.datalad.org">http://docs.datalad.org</a> to technical
documentation geared at developers.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3678">#3678</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
used to allow the caller to specify which dataset(s) to update as a
<code class="docutils literal notranslate"><span class="pre">PATH</span></code> argument or via the the <code class="docutils literal notranslate"><span class="pre">--dataset</span></code> option; now only the
latter is supported. Path arguments only serve to restrict which
subdataset are updated when operating recursively.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3700">#3700</a>)</p></li>
<li><p>Result records from a
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
call no longer have a “state” key.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3746">#3746</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
no longer support operating on independent hierarchies of datasets.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3700">#3700</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3746">#3746</a>)</p></li>
<li><p>The
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
update in 0.12.0rc4 for the new path resolution logic broke the
handling of inputs and outputs for calls from a subdirectory.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3747">#3747</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">is_submodule_modified</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> as well as two
helper functions in gitrepo.py, <code class="docutils literal notranslate"><span class="pre">kwargs_to_options</span></code> and
<code class="docutils literal notranslate"><span class="pre">split_remote_branch</span></code>, were no longer used internally or in any
known DataLad extensions and have been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3702">#3702</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3704">#3704</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">only_remote</span></code> option of <code class="docutils literal notranslate"><span class="pre">GitRepo.is_with_annex</span></code> was not used
internally or in any known extensions and has been dropped.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3768">#3768</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_tags</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> used to sort tags by committer
date. It now sorts them by the tagger date for annotated tags and the
committer date for lightweight tags.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3715">#3715</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">rev_resolve_path</span></code> substituted <code class="docutils literal notranslate"><span class="pre">resolve_path</span></code> helper.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3797">#3797</a>)</p></li>
</ul>
</section>
<section id="fixes-21">
<span id="id62"></span><h3>Fixes<a class="headerlink" href="#fixes-21" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Correctly handle relative paths in
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3799">#3799</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3102">#3102</a>)</p></li>
<li><p>Do not errorneously discover directory as a procedure.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3793">#3793</a>)</p></li>
<li><p>Correctly extract version from manpage to trigger use of manpages for
<code class="docutils literal notranslate"><span class="pre">--help</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3798">#3798</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cfg_yoda</span></code> procedure saved all modifications in the repository
rather than saving only the files it modified.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3680">#3680</a>)</p></li>
<li><p>Some spots in the documentation that were supposed appear as two
hyphens were incorrectly rendered in the HTML output en-dashs.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3692">#3692</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>,
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
treated paths as relative to the dataset even when the string form
was given, violating the new path handling rules.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3749">#3749</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3777">#3777</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3780">#3780</a>)</p></li>
<li><p>Providing the “^” shortcut to <code class="docutils literal notranslate"><span class="pre">--dataset</span></code> didn’t work properly when
called from a subdirectory of a subdataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3772">#3772</a>)</p></li>
<li><p>We failed to propagate some errors from git-annex when working with
its JSON output.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3751">#3751</a>)</p></li>
<li><p>With the Python API, callers are allowed to pass a string or list of
strings as the <code class="docutils literal notranslate"><span class="pre">cfg_proc</span></code> argument to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>,
but the string form was mishandled.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3761">#3761</a>)</p></li>
<li><p>Incorrect command quoting for SSH calls on Windows that rendered
basic SSH-related functionality (e.g.,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-sshrun.html">sshrun</a>)
on Windows unusable.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3688">#3688</a>)</p></li>
<li><p>Annex JSON result handling assumed platform-specific paths on Windows
instead of the POSIX-style that is happening across all platforms.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3719">#3719</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path_is_under()</span></code> was incapable of comparing Windows paths with
different drive letters.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3728">#3728</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-15">
<span id="id63"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-15" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Provide a collection of “public” <code class="docutils literal notranslate"><span class="pre">call_git*</span></code> helpers within GitRepo
and replace use of “private” and less specific
<code class="docutils literal notranslate"><span class="pre">_git_custom_command</span></code> calls.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3791">#3791</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>
gained a <code class="docutils literal notranslate"><span class="pre">--report-filetype</span></code>. Setting it to “raw” can give a
performance boost for the price of no longer distinguishing symlinks
that point to annexed content from other symlinks.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3701">#3701</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
disables file type reporting by
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>
to improve performance.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3712">#3712</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-subdatasets.html">subdatasets</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3743">#3743</a>)</p>
<ul>
<li><p>now extends its result records with a <code class="docutils literal notranslate"><span class="pre">contains</span></code> field that
lists which <code class="docutils literal notranslate"><span class="pre">contains</span></code> arguments matched a given subdataset.</p></li>
<li><p>yields an ‘impossible’ result record when a <code class="docutils literal notranslate"><span class="pre">contains</span></code> argument
wasn’t matched to any of the reported subdatasets.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
now shows more readable output when cloning fails.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3775">#3775</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SSHConnection</span></code> now displays a more informative error message when
it cannot start the <code class="docutils literal notranslate"><span class="pre">ControlMaster</span></code> process.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3776">#3776</a>)</p></li>
<li><p>If the new configuration option <code class="docutils literal notranslate"><span class="pre">datalad.log.result-level</span></code> is set
to a single level, all result records will be logged at that level.
If you’ve been bothered by DataLad’s double reporting of failures,
consider setting this to “debug”.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3754">#3754</a>)</p></li>
<li><p>Configuration values from <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">-c</span> <span class="pre">OPTION=VALUE</span> <span class="pre">...</span></code> are now
validated to provide better errors.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3695">#3695</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-rerun.html">rerun</a>
learned how to handle history with merges. As was already the case
when cherry picking non-run commits, re-creating merges may results
in conflicts, and <code class="docutils literal notranslate"><span class="pre">rerun</span></code> does not yet provide an interface to let
the user handle these.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2754">#2754</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">fsck</span></code> method of <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> has been enhanced to expose more
features of the underlying <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fsck</span></code> command.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3693">#3693</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> now has a <code class="docutils literal notranslate"><span class="pre">for_each_ref_</span></code> method that wraps
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">for-each-ref</span></code>, which is used in various spots that used to
rely on GitPython functionality.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3705">#3705</a>)</p></li>
<li><p>Do not pretend to be able to work in optimized (<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-O</span></code>) mode,
crash early with an informative message.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3803">#3803</a>)</p></li>
</ul>
</section>
</section>
<section id="rc5-september-04-2019">
<h2>0.12.0rc5 (September 04, 2019) – .<a class="headerlink" href="#rc5-september-04-2019" title="Permalink to this headline"></a></h2>
<p>Various fixes and enhancements that bring the 0.12.0 release closer.</p>
<section id="major-refactoring-and-deprecations-6">
<span id="id64"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-6" title="Permalink to this headline"></a></h3>
<ul>
<li><p>The two modules below have a new home. The old locations still exist
as compatibility shims and will be removed in a future release.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">datalad.distribution.subdatasets</span></code> has been moved to
<code class="docutils literal notranslate"><span class="pre">datalad.local.subdatasets</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3429">#3429</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad.interface.run</span></code> has been moved to
<code class="docutils literal notranslate"><span class="pre">datalad.core.local.run</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3444">#3444</a>)</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">lock</span></code> method of <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> and the <code class="docutils literal notranslate"><span class="pre">options</span></code> parameter of
<code class="docutils literal notranslate"><span class="pre">AnnexRepo.unlock</span></code> were unused internally and have been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3459">#3459</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_submodules</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> has been rewritten
without GitPython. When the new <code class="docutils literal notranslate"><span class="pre">compat</span></code> flag is true (the current
default), the method returns a value that is compatible with the old
return value. This backwards-compatible return value and the
<code class="docutils literal notranslate"><span class="pre">compat</span></code> flag will be removed in a future release.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3508">#3508</a>)</p></li>
<li><p>The logic for resolving relative paths given to a command has changed
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3435">#3435</a>). The new
rule is that relative paths are taken as relative to the dataset only
if a dataset <em>instance</em> is passed by the caller. In all other
scenarios they’re considered relative to the current directory.</p>
<p>The main user-visible difference from the command line is that using
the <code class="docutils literal notranslate"><span class="pre">--dataset</span></code> argument does <em>not</em> result in relative paths being
taken as relative to the specified dataset. (The undocumented
distinction between “rel/path” and “./rel/path” no longer exists.)</p>
<p>All commands under <code class="docutils literal notranslate"><span class="pre">datalad.core</span></code> and <code class="docutils literal notranslate"><span class="pre">datalad.local</span></code>, as well as
<code class="docutils literal notranslate"><span class="pre">unlock</span></code> and <code class="docutils literal notranslate"><span class="pre">addurls</span></code>, follow the new logic. The goal is for all
commands to eventually do so.</p>
</li>
</ul>
</section>
<section id="fixes-22">
<span id="id65"></span><h3>Fixes<a class="headerlink" href="#fixes-22" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The function for loading JSON streams wasn’t clever enough to handle
content that included a Unicode line separator like U2028.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3524">#3524</a>)</p></li>
<li><p>When
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-unlock.html">unlock</a>
was called without an explicit target (i.e., a directory or no paths
at all), the call failed if any of the files did not have content
present. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3459">#3459</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.get_content_info</span></code> failed in the rare case of a key
without size information.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3534">#3534</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
ignored <code class="docutils literal notranslate"><span class="pre">--on-failure</span></code> in its underlying call to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3470">#3470</a>)</p></li>
<li><p>Calling
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-remove.html">remove</a>
with a subdirectory displayed spurious warnings about the
subdirectory files not existing.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3586">#3586</a>)</p></li>
<li><p>Our processing of <code class="docutils literal notranslate"><span class="pre">git-annex</span> <span class="pre">--json</span></code> output mishandled info
messages from special remotes.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3546">#3546</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a></p>
<ul>
<li><p>didn’t bypass the “existing subdataset” check when called with
<code class="docutils literal notranslate"><span class="pre">--force</span></code> as of 0.12.0rc3
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3552">#3552</a>)</p></li>
<li><p>failed to register the up-to-date revision of a subdataset when
<code class="docutils literal notranslate"><span class="pre">--cfg-proc</span></code> was used with <code class="docutils literal notranslate"><span class="pre">--dataset</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3591">#3591</a>)</p></li>
</ul>
</li>
<li><p>The base downloader had some error handling that wasn’t compatible
with Python 3.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3622">#3622</a>)</p></li>
<li><p>Fixed a number of Unicode py2-compatibility issues.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3602">#3602</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.get_content_annexinfo</span></code> did not properly chunk file
arguments to avoid exceeding the command-line character limit.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3587">#3587</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-16">
<span id="id66"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-16" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>New command <code class="docutils literal notranslate"><span class="pre">create-sibling-gitlab</span></code> provides an interface for
creating a publication target on a GitLab instance.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3447">#3447</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-subdatasets.html">subdatasets</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3429">#3429</a>)</p>
<ul>
<li><p>now supports path-constrained queries in the same manner as
commands like <code class="docutils literal notranslate"><span class="pre">save</span></code> and <code class="docutils literal notranslate"><span class="pre">status</span></code></p></li>
<li><p>gained a <code class="docutils literal notranslate"><span class="pre">--contains=PATH</span></code> option that can be used to restrict
the output to datasets that include a specific path.</p></li>
<li><p>now narrows the listed subdatasets to those underneath the current
directory when called with no arguments</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a>
learned to accept a plain <code class="docutils literal notranslate"><span class="pre">--annex</span></code> (no value) as shorthand for
<code class="docutils literal notranslate"><span class="pre">--annex</span> <span class="pre">basic</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3534">#3534</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.dirty</span></code> property of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> and <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> has been
sped up. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3460">#3460</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_content_info</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code>, used by <code class="docutils literal notranslate"><span class="pre">status</span></code>
and commands that depend on <code class="docutils literal notranslate"><span class="pre">status</span></code>, now restricts its git calls
to a subset of files, if possible, for a performance gain in
repositories with many files.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3508">#3508</a>)</p></li>
<li><p>Extensions that do not provide a command, such as those that provide
only metadata extractors, are now supported.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3531">#3531</a>)</p></li>
<li><p>When calling git-annex with <code class="docutils literal notranslate"><span class="pre">--json</span></code>, we log standard error at the
debug level rather than the warning level if a non-zero exit is
expected behavior.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3518">#3518</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>
no longer refuses to create a new dataset in the odd scenario of an
empty .git/ directory upstairs.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3475">#3475</a>)</p></li>
<li><p>As of v2.22.0 Git treats a sub-repository on an unborn branch as a
repository rather than as a directory. Our documentation and tests
have been updated appropriately.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3476">#3476</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a>
learned to accept a <code class="docutils literal notranslate"><span class="pre">--cfg-proc</span></code> value and pass it to its
<code class="docutils literal notranslate"><span class="pre">create</span></code> calls.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3562">#3562</a>)</p></li>
</ul>
</section>
</section>
<section id="rc4-may-15-2019-the-revolution-is-over">
<h2>0.12.0rc4 (May 15, 2019) – the revolution is over<a class="headerlink" href="#rc4-may-15-2019-the-revolution-is-over" title="Permalink to this headline"></a></h2>
<p>With the replacement of the <code class="docutils literal notranslate"><span class="pre">save</span></code> command implementation with
<code class="docutils literal notranslate"><span class="pre">rev-save</span></code> the revolution effort is now over, and the set of key
commands for local dataset operations (<code class="docutils literal notranslate"><span class="pre">create</span></code>, <code class="docutils literal notranslate"><span class="pre">run</span></code>, <code class="docutils literal notranslate"><span class="pre">save</span></code>,
<code class="docutils literal notranslate"><span class="pre">status</span></code>, <code class="docutils literal notranslate"><span class="pre">diff</span></code>) is now complete. This new core API is available
from <code class="docutils literal notranslate"><span class="pre">datalad.core.local</span></code> (and also via <code class="docutils literal notranslate"><span class="pre">datalad.api</span></code>, as any other
command).</p>
<section id="major-refactoring-and-deprecations-7">
<span id="id67"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-7" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">add</span></code> command is now deprecated. It will be removed in a future
release.</p></li>
</ul>
</section>
<section id="fixes-23">
<span id="id68"></span><h3>Fixes<a class="headerlink" href="#fixes-23" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Remove hard-coded dependencies on POSIX path conventions in SSH
support code
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3400">#3400</a>)</p></li>
<li><p>Emit an <code class="docutils literal notranslate"><span class="pre">add</span></code> result when adding a new subdataset during
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3398">#3398</a>)</p></li>
<li><p>SSH file transfer now actually opens a shared connection, if none
exists yet
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3403">#3403</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-17">
<span id="id69"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-17" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SSHConnection</span></code> now offers methods for file upload and dowload
(<code class="docutils literal notranslate"><span class="pre">get()</span></code>, <code class="docutils literal notranslate"><span class="pre">put()</span></code>. The previous <code class="docutils literal notranslate"><span class="pre">copy()</span></code> method only supported
upload and was discontinued
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3401">#3401</a>)</p></li>
</ul>
</section>
</section>
<section id="rc3-may-07-2019-the-revolution-continues">
<h2>0.12.0rc3 (May 07, 2019) – the revolution continues<a class="headerlink" href="#rc3-may-07-2019-the-revolution-continues" title="Permalink to this headline"></a></h2>
<p>Continues API consolidation and replaces the <code class="docutils literal notranslate"><span class="pre">create</span></code> and <code class="docutils literal notranslate"><span class="pre">diff</span></code>
command with more performant implementations.</p>
<section id="major-refactoring-and-deprecations-8">
<span id="id70"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-8" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The previous <code class="docutils literal notranslate"><span class="pre">diff</span></code> command has been replaced by the diff variant
from the
<a class="reference external" href="http://github.com/datalad/datalad-revolution">datalad-revolution</a>
extension.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3366">#3366</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rev-create</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">create</span></code>, and the previous
<code class="docutils literal notranslate"><span class="pre">create</span></code> has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3383">#3383</a>)</p></li>
<li><p>The procedure <code class="docutils literal notranslate"><span class="pre">setup_yoda_dataset</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">cfg_yoda</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3353">#3353</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--nosave</span></code> of <code class="docutils literal notranslate"><span class="pre">addurls</span></code> now affects only added content, not
newly created subdatasets
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3259">#3259</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Dataset.get_subdatasets</span></code> (deprecated since v0.9.0) has been
removed. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3336">#3336</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.is_dirty</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> and <code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> has been
replaced by <code class="docutils literal notranslate"><span class="pre">.status</span></code> or, for a subset of cases, the <code class="docutils literal notranslate"><span class="pre">.dirty</span></code>
property.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3330">#3330</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.get_status</span></code> has been replaced by <code class="docutils literal notranslate"><span class="pre">AnnexRepo.status</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3330">#3330</a>)</p></li>
</ul>
</section>
<section id="fixes-24">
<span id="id71"></span><h3>Fixes<a class="headerlink" href="#fixes-24" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a></p>
<ul>
<li><p>reported on directories that contained only ignored files
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3238">#3238</a>)</p></li>
<li><p>gave a confusing failure when called from a subdataset with an
explicitly specified dataset argument and “.” as a path
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3325">#3325</a>)</p></li>
<li><p>misleadingly claimed that the locally present content size was
zero when <code class="docutils literal notranslate"><span class="pre">--annex</span> <span class="pre">basic</span></code> was specified
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3378">#3378</a>)</p></li>
</ul>
</li>
<li><p>An informative error wasn’t given when a download provider was
invalid. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3258">#3258</a>)</p></li>
<li><p>Calling <code class="docutils literal notranslate"><span class="pre">rev-save</span> <span class="pre">PATH</span></code> saved unspecified untracked subdatasets.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3288">#3288</a>)</p></li>
<li><p>The available choices for command-line options that take values are
now displayed more consistently in the help output.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3326">#3326</a>)</p></li>
<li><p>The new pathlib-based code had various encoding issues on Python 2.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3332">#3332</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-18">
<span id="id72"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-18" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-wtf.html">wtf</a>
now includes information about the Python version.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3255">#3255</a>)</p></li>
<li><p>When operating in an annex repository, checking whether git-annex is
available is now delayed until a call to git-annex is actually
needed, allowing systems without git-annex to operate on annex
repositories in a restricted fashion.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3274">#3274</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">load_stream</span></code> on helper now supports auto-detection of
compressed files.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3289">#3289</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create</span></code> (formerly <code class="docutils literal notranslate"><span class="pre">rev-create</span></code>)</p>
<ul>
<li><p>learned to be speedier by passing a path to <code class="docutils literal notranslate"><span class="pre">status</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3294">#3294</a>)</p></li>
<li><p>gained a <code class="docutils literal notranslate"><span class="pre">--cfg-proc</span></code> (or <code class="docutils literal notranslate"><span class="pre">-c</span></code>) convenience option for running
configuration procedures (or more accurately any procedure that
begins with “cfg_”) in the newly created dataset
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3353">#3353</a>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.set_metadata</span></code> now returns a list while
<code class="docutils literal notranslate"><span class="pre">AnnexRepo.set_metadata_</span></code> returns a generator, a behavior which is
consistent with the <code class="docutils literal notranslate"><span class="pre">add</span></code> and <code class="docutils literal notranslate"><span class="pre">add_</span></code> method pair.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3298">#3298</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.get_metadata</span></code> now supports batch querying of known annex
files. Note, however, that callers should carefully validate the
input paths because the batch call will silently hang if given
non-annex files.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3364">#3364</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-status.html">status</a></p>
<ul>
<li><p>now reports a “bytesize” field for files tracked by Git
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3299">#3299</a>)</p></li>
<li><p>gained a new option <code class="docutils literal notranslate"><span class="pre">eval_subdataset_state</span></code> that controls how
the subdataset state is evaluated. Depending on the information
you need, you can select a less expensive mode to make <code class="docutils literal notranslate"><span class="pre">status</span></code>
faster.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3324">#3324</a>)</p></li>
<li><p>colors deleted files “red”
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3334">#3334</a>)</p></li>
</ul>
</li>
<li><p>Querying repository content is faster due to batching of
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">cat-file</span></code> calls.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3301">#3301</a>)</p></li>
<li><p>The dataset ID of a subdataset is now recorded in the superdataset.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3304">#3304</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.diffstatus</span></code></p>
<ul>
<li><p>now avoids subdataset recursion when the comparison is not with
the working tree, which substantially improves performance when
diffing large dataset hierarchies
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3314">#3314</a>)</p></li>
<li><p>got smarter and faster about labeling a subdataset as “modified”
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3343">#3343</a>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.get_content_info</span></code> now supports disabling the file type
evaluation, which gives a performance boost in cases where this
information isn’t needed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3362">#3362</a>)</p></li>
<li><p>The XMP metadata extractor now filters based on file name to improve
its performance.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3329">#3329</a>)</p></li>
</ul>
</section>
</section>
<section id="rc2-mar-18-2019-revolution">
<h2>0.12.0rc2 (Mar 18, 2019) – revolution!<a class="headerlink" href="#rc2-mar-18-2019-revolution" title="Permalink to this headline"></a></h2>
<section id="fixes-25">
<span id="id73"></span><h3>Fixes<a class="headerlink" href="#fixes-25" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.dirty</span></code> does not report on nested empty directories
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3196">#3196</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.save()</span></code> reports results on deleted files.</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-19">
<span id="id74"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-19" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Absorb a new set of core commands from the datalad-revolution
extension:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">rev-status</span></code>: like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>, but simpler and working with
dataset hierarchies</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rev-save</span></code>: a 2-in-1 replacement for save and add</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rev-create</span></code>: a ~30% faster create</p></li>
</ul>
</li>
<li><p>JSON support tools can now read and write compressed files.</p></li>
</ul>
</section>
</section>
<section id="rc1-mar-03-2019-to-boldly-go">
<h2>0.12.0rc1 (Mar 03, 2019) – to boldly go …<a class="headerlink" href="#rc1-mar-03-2019-to-boldly-go" title="Permalink to this headline"></a></h2>
<section id="major-refactoring-and-deprecations-9">
<span id="id75"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-9" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Discontinued support for git-annex direct-mode (also no longer
supported upstream).</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-20">
<span id="id76"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-20" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Dataset and Repo object instances are now hashable, and can be
created based on pathlib Path object instances</p></li>
<li><p>Imported various additional methods for the Repo classes to query
information and save changes.</p></li>
</ul>
</section>
</section>
<section id="oct-11-2019-annex-we-are-catching-up">
<h2>0.11.8 (Oct 11, 2019) – annex-we-are-catching-up<a class="headerlink" href="#oct-11-2019-annex-we-are-catching-up" title="Permalink to this headline"></a></h2>
<section id="fixes-26">
<span id="id77"></span><h3>Fixes<a class="headerlink" href="#fixes-26" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Our internal command runner failed to capture output in some cases.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3656">#3656</a>)</p></li>
<li><p>Workaround in the tests around python in cPython &gt;= 3.7.5 ‘;’ in the
filename confusing mimetypes
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3769">#3769</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3770">#3770</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-21">
<span id="id78"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-21" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Prepared for upstream changes in git-annex, including support for the
latest git-annex</p>
<ul>
<li><p>7.20190912 auto-upgrades v5 repositories to v7.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3648">#3648</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3682">#3682</a>)</p></li>
<li><p>7.20191009 fixed treatment of (larger/smaller)than in
.gitattributes
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3765">#3765</a>)</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cfg_text2git</span></code> procedure, as well the <code class="docutils literal notranslate"><span class="pre">--text-no-annex</span></code>
option of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>,
now configure .gitattributes so that empty files are stored in git
rather than annex.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3667">#3667</a>)</p></li>
</ul>
</section>
</section>
<section id="sep-06-2019-python2-we-still-love-you-but">
<h2>0.11.7 (Sep 06, 2019) – python2-we-still-love-you-but-…<a class="headerlink" href="#sep-06-2019-python2-we-still-love-you-but" title="Permalink to this headline"></a></h2>
<p>Primarily bugfixes with some optimizations and refactorings.</p>
<section id="fixes-27">
<span id="id79"></span><h3>Fixes<a class="headerlink" href="#fixes-27" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a></p>
<ul>
<li><p>now provides better handling when the URL file isn’t in the
expected format.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3579">#3579</a>)</p></li>
<li><p>always considered a relative file for the URL file argument as
relative to the current working directory, which goes against the
convention used by other commands of taking relative paths as
relative to the dataset argument.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3582">#3582</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a></p>
<ul>
<li><p>hard coded “python” when formatting the command for non-executable
procedures ending with “.py”. <code class="docutils literal notranslate"><span class="pre">sys.executable</span></code> is now used.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3624">#3624</a>)</p></li>
<li><p>failed if arguments needed more complicated quoting than simply
surrounding the value with double quotes. This has been resolved
for systems that support <code class="docutils literal notranslate"><span class="pre">shlex.quote</span></code>, but note that on Windows
values are left unquoted.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3626">#3626</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
now displays an informative error message if a local path is given to
<code class="docutils literal notranslate"><span class="pre">--url</span></code> but <code class="docutils literal notranslate"><span class="pre">--name</span></code> isn’t specified.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3555">#3555</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-sshrun.html">sshrun</a>,
the command DataLad uses for <code class="docutils literal notranslate"><span class="pre">GIT_SSH_COMMAND</span></code>, didn’t support all
the parameters that Git expects it to.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3616">#3616</a>)</p></li>
<li><p>Fixed a number of Unicode py2-compatibility issues.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3597">#3597</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-download-url.html">download-url</a>
now will create leading directories of the output path if they do not
exist (<a class="reference external" href="https://github.com/datalad/datalad/issues/3646">#3646</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-22">
<span id="id80"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-22" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The
<a class="reference external" href="http://docs.datalad.org/en/latest/generated/man/datalad-annotate-paths.html">annotate-paths</a>
helper now caches subdatasets it has seen to avoid unnecessary calls.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3570">#3570</a>)</p></li>
<li><p>A repeated configuration query has been dropped from the handling of
<code class="docutils literal notranslate"><span class="pre">--proc-pre</span></code> and <code class="docutils literal notranslate"><span class="pre">--proc-post</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3576">#3576</a>)</p></li>
<li><p>Calls to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">find</span></code> now use <code class="docutils literal notranslate"><span class="pre">--in=.</span></code> instead of the alias
<code class="docutils literal notranslate"><span class="pre">--in=here</span></code> to take advantage of an optimization that git-annex (as
of the current release, 7.20190730) applies only to the former.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3574">#3574</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a>
now suggests close matches when the URL or file format contains an
unknown field.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3594">#3594</a>)</p></li>
<li><p>Shared logic used in the setup.py files of Datalad and its extensions
has been moved to modules in the _datalad_build_support/ directory.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3600">#3600</a>)</p></li>
<li><p>Get ready for upcoming git-annex dropping support for direct mode
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3631">#3631</a>)</p></li>
</ul>
</section>
</section>
<section id="jul-30-2019-am-i-the-last-of-0-11-x">
<h2>0.11.6 (Jul 30, 2019) – am I the last of 0.11.x?<a class="headerlink" href="#jul-30-2019-am-i-the-last-of-0-11-x" title="Permalink to this headline"></a></h2>
<p>Primarily bug fixes to achieve more robust performance</p>
<section id="fixes-28">
<span id="id81"></span><h3>Fixes<a class="headerlink" href="#fixes-28" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Our tests needed various adjustments to keep up with upstream changes
in Travis and Git.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3479">#3479</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3492">#3492</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3493">#3493</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnnexRepo.is_special_annex_remote</span></code> was too selective in what it
considered to be a special remote.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3499">#3499</a>)</p></li>
<li><p>We now provide information about unexpected output when git-annex is
called with <code class="docutils literal notranslate"><span class="pre">--json</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3516">#3516</a>)</p></li>
<li><p>Exception logging in the <code class="docutils literal notranslate"><span class="pre">__del__</span></code> method of <code class="docutils literal notranslate"><span class="pre">GitRepo</span></code> and
<code class="docutils literal notranslate"><span class="pre">AnnexRepo</span></code> no longer fails if the names it needs are no longer
bound. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3527">#3527</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a>
botched the construction of subdataset paths that were more than two
levels deep and failed to create datasets in a reliable,
breadth-first order.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3561">#3561</a>)</p></li>
<li><p>Cloning a <code class="docutils literal notranslate"><span class="pre">type=git</span></code> special remote showed a spurious warning about
the remote not being enabled.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3547">#3547</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-23">
<span id="id82"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-23" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>For calls to git and git-annex, we disable automatic garbage
collection due to past issues with GitPython’s state becoming stale,
but doing so results in a larger .git/objects/ directory that isn’t
cleaned up until garbage collection is triggered outside of DataLad.
Tests with the latest GitPython didn’t reveal any state issues, so
we’ve re-enabled automatic garbage collection.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3458">#3458</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-rerun.html">rerun</a>
learned an <code class="docutils literal notranslate"><span class="pre">--explicit</span></code> flag, which it relays to its calls to
[run][[]]. This makes it possible to call <code class="docutils literal notranslate"><span class="pre">rerun</span></code> in a dirty
working tree
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3498">#3498</a>).</p></li>
<li><p>The
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-metadata.html">metadata</a>
command aborts earlier if a metadata extractor is unavailable.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3525">#3525</a>)</p></li>
</ul>
</section>
</section>
<section id="may-23-2019-stability-is-not-overrated">
<h2>0.11.5 (May 23, 2019) – stability is not overrated<a class="headerlink" href="#may-23-2019-stability-is-not-overrated" title="Permalink to this headline"></a></h2>
<p>Should be faster and less buggy, with a few enhancements.</p>
<section id="fixes-29">
<span id="id83"></span><h3>Fixes<a class="headerlink" href="#fixes-29" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3318">#3318</a>)</p>
<ul>
<li><p>Siblings are no longer configured with a post-update hook unless a
web interface is requested with <code class="docutils literal notranslate"><span class="pre">--ui</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span></code> is no longer called from the
post-update hook.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">--inherit</span></code> is given for a dataset without a superdataset, a
warning is now given instead of raising an error.</p></li>
</ul>
</li>
<li><p>The internal command runner failed on Python 2 when its <code class="docutils literal notranslate"><span class="pre">env</span></code>
argument had unicode values.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3332">#3332</a>)</p></li>
<li><p>The safeguard that prevents creating a dataset in a subdirectory that
already contains tracked files for another repository failed on Git
versions before 2.14. For older Git versions, we now warn the caller
that the safeguard is not active.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3347">#3347</a>)</p></li>
<li><p>A regression introduced in v0.11.1 prevented
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
from committing changes under a subdirectory when the subdirectory
was specified as a path argument.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3106">#3106</a>)</p></li>
<li><p>A workaround introduced in v0.11.1 made it possible for
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
to do a partial commit with an annex file that has gone below the
<code class="docutils literal notranslate"><span class="pre">annex.largefiles</span></code> threshold. The logic of this workaround was
faulty, leading to files being displayed as typechanged in the index
following the commit.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3365">#3365</a>)</p></li>
<li><p>The resolve_path() helper confused paths that had a semicolon for SSH
RIs. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3425">#3425</a>)</p></li>
<li><p>The detection of SSH RIs has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3425">#3425</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-24">
<span id="id84"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-24" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The internal command runner was too aggressive in its decision to
sleep. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3322">#3322</a>)</p></li>
<li><p>The “INFO” label in log messages now retains the default text color
for the terminal rather than using white, which only worked well for
terminals with dark backgrounds.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3334">#3334</a>)</p></li>
<li><p>A short flag <code class="docutils literal notranslate"><span class="pre">-R</span></code> is now available for the <code class="docutils literal notranslate"><span class="pre">--recursion-limit</span></code>
flag, a flag shared by several subcommands.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3340">#3340</a>)</p></li>
<li><p>The authentication logic for
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-github.html">create-sibling-github</a>
has been revamped and now supports 2FA.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3180">#3180</a>)</p></li>
<li><p>New configuration option <code class="docutils literal notranslate"><span class="pre">datalad.ui.progressbar</span></code> can be used to
configure the default backend for progress reporting (“none”, for
example, results in no progress bars being shown).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3396">#3396</a>)</p></li>
<li><p>A new progress backend, available by setting datalad.ui.progressbar
to “log”, replaces progress bars with a log message upon completion
of an action.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3396">#3396</a>)</p></li>
<li><p>DataLad learned to consult the <a class="reference external" href="https://no-color.org/">NO_COLOR</a>
environment variable and the new <code class="docutils literal notranslate"><span class="pre">datalad.ui.color</span></code> configuration
option when deciding to color output. The default value, “auto”,
retains the current behavior of coloring output if attached to a TTY
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3407">#3407</a>).</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clean.html">clean</a>
now removes annex transfer directories, which is useful for cleaning
up failed downloads.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3374">#3374</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
no longer refuses to clone into a local path that looks like a URL,
making its behavior consistent with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3425">#3425</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-wtf.html">wtf</a></p>
<ul>
<li><p>Learned to fall back to the <code class="docutils literal notranslate"><span class="pre">dist</span></code> package if <code class="docutils literal notranslate"><span class="pre">platform.dist</span></code>,
which has been removed in the yet-to-be-release Python 3.8, does
not exist.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3439">#3439</a>)</p></li>
<li><p>Gained a <code class="docutils literal notranslate"><span class="pre">--section</span></code> option for limiting the output to specific
sections and a <code class="docutils literal notranslate"><span class="pre">--decor</span></code> option, which currently knows how to
format the output as GitHub’s <code class="docutils literal notranslate"><span class="pre">&lt;details&gt;</span></code> section.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3440">#3440</a>)</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="mar-18-2019-get-ready">
<h2>0.11.4 (Mar 18, 2019) – get-ready<a class="headerlink" href="#mar-18-2019-get-ready" title="Permalink to this headline"></a></h2>
<p>Largely a bug fix release with a few enhancements</p>
<section id="important">
<h3>Important<a class="headerlink" href="#important" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>0.11.x series will be the last one with support for direct mode of
<a class="reference external" href="http://git-annex.branchable.com/">git-annex</a> which is used on
crippled (no symlinks and no locking) filesystems. v7 repositories
should be used instead.</p></li>
</ul>
</section>
<section id="fixes-30">
<span id="id85"></span><h3>Fixes<a class="headerlink" href="#fixes-30" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Extraction of .gz files is broken without p7zip installed. We now
abort with an informative error in this situation.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3176">#3176</a>)</p></li>
<li><p>Committing failed in some cases because we didn’t ensure that the
path passed to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">read-tree</span> <span class="pre">--index-output=...</span></code> resided on the
same filesystem as the repository.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3181">#3181</a>)</p></li>
<li><p>Some pointless warnings during metadata aggregation have been
eliminated.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3186">#3186</a>)</p></li>
<li><p>With Python 3 the LORIS token authenticator did not properly decode a
response
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3205">#3205</a>).</p></li>
<li><p>With Python 3 downloaders unnecessarily decoded the response when
getting the status, leading to an encoding error.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3210">#3210</a>)</p></li>
<li><p>In some cases, our internal command Runner did not adjust the
environment’s <code class="docutils literal notranslate"><span class="pre">PWD</span></code> to match the current working directory
specified with the <code class="docutils literal notranslate"><span class="pre">cwd</span></code> parameter.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3215">#3215</a>)</p></li>
<li><p>The specification of the pyliblzma dependency was broken.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3220">#3220</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a>
displayed an uninformative blank log message in some cases.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3222">#3222</a>)</p></li>
<li><p>The logic for finding the location of the aggregate metadata DB
anchored the search path incorrectly, leading to a spurious warning.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3241">#3241</a>)</p></li>
<li><p>Some progress bars were still displayed when stdout and stderr were
not attached to a tty.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3281">#3281</a>)</p></li>
<li><p>Check for stdin/out/err to not be closed before checking for
<code class="docutils literal notranslate"><span class="pre">.isatty</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3268">#3268</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-25">
<span id="id86"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-25" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Creating a new repository now aborts if any of the files in the
directory are tracked by a repository in a parent directory.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3211">#3211</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
learned to replace the <code class="docutils literal notranslate"><span class="pre">{tmpdir}</span></code> placeholder in commands with a
temporary directory.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3223">#3223</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/duecredit/duecredit">duecredit</a> support has
been added for citing DataLad itself as well as datasets that an
analysis uses.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3184">#3184</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">eval_results</span></code> interface helper unintentionally modified one of
its arguments.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3249">#3249</a>)</p></li>
<li><p>A few DataLad constants have been added, changed, or renamed
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3250">#3250</a>):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">HANDLE_META_DIR</span></code> is now <code class="docutils literal notranslate"><span class="pre">DATALAD_DOTDIR</span></code>. The old name should
be considered deprecated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">METADATA_DIR</span></code> now refers to <code class="docutils literal notranslate"><span class="pre">DATALAD_DOTDIR/metadata</span></code> rather
than <code class="docutils literal notranslate"><span class="pre">DATALAD_DOTDIR/meta</span></code> (which is still available as
<code class="docutils literal notranslate"><span class="pre">OLDMETADATA_DIR</span></code>).</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">DATASET_METADATA_FILE</span></code> refers to
<code class="docutils literal notranslate"><span class="pre">METADATA_DIR/dataset.json</span></code>.</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">DATASET_CONFIG_FILE</span></code> refers to
<code class="docutils literal notranslate"><span class="pre">DATALAD_DOTDIR/config</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">METADATA_FILENAME</span></code> has been renamed to
<code class="docutils literal notranslate"><span class="pre">OLDMETADATA_FILENAME</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="feb-19-2019-read-me-gently">
<h2>0.11.3 (Feb 19, 2019) – read-me-gently<a class="headerlink" href="#feb-19-2019-read-me-gently" title="Permalink to this headline"></a></h2>
<p>Just a few of important fixes and minor enhancements.</p>
<section id="fixes-31">
<span id="id87"></span><h3>Fixes<a class="headerlink" href="#fixes-31" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The logic for setting the maximum command line length now works
around Python 3.4 returning an unreasonably high value for
<code class="docutils literal notranslate"><span class="pre">SC_ARG_MAX</span></code> on Debian systems.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3165">#3165</a>)</p></li>
<li><p>DataLad commands that are conceptually “read-only”, such as
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">ls</span> <span class="pre">-L</span></code>, can fail when the caller lacks write permissions
because git-annex tries merging remote git-annex branches to update
information about availability. DataLad now disables
<code class="docutils literal notranslate"><span class="pre">annex.merge-annex-branches</span></code> in some common “read-only” scenarios
to avoid these failures.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3164">#3164</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-26">
<span id="id88"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-26" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Accessing an “unbound” dataset method now automatically imports the
necessary module rather than requiring an explicit import from the
Python caller. For example, calling <code class="docutils literal notranslate"><span class="pre">Dataset.add</span></code> no longer needs
to be preceded by <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">datalad.distribution.add</span> <span class="pre">import</span> <span class="pre">Add</span></code> or an
import of <code class="docutils literal notranslate"><span class="pre">datalad.api</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3156">#3156</a>)</p></li>
<li><p>Configuring the new variable <code class="docutils literal notranslate"><span class="pre">datalad.ssh.identityfile</span></code> instructs
DataLad to pass a value to the <code class="docutils literal notranslate"><span class="pre">-i</span></code> option of <code class="docutils literal notranslate"><span class="pre">ssh</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3149">#3149</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3168">#3168</a>)</p></li>
</ul>
</section>
</section>
<section id="feb-07-2019-live-long-and-prosper">
<h2>0.11.2 (Feb 07, 2019) – live-long-and-prosper<a class="headerlink" href="#feb-07-2019-live-long-and-prosper" title="Permalink to this headline"></a></h2>
<p>A variety of bugfixes and enhancements</p>
<section id="major-refactoring-and-deprecations-10">
<span id="id89"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-10" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>All extracted metadata is now placed under git-annex by default.
Previously files smaller than 20 kb were stored in git.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3109">#3109</a>)</p></li>
<li><p>The function <code class="docutils literal notranslate"><span class="pre">datalad.cmd.get_runner</span></code> has been removed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3104">#3104</a>)</p></li>
</ul>
</section>
<section id="fixes-32">
<span id="id90"></span><h3>Fixes<a class="headerlink" href="#fixes-32" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Improved handling of long commands:</p>
<ul>
<li><p>The code that inspected <code class="docutils literal notranslate"><span class="pre">SC_ARG_MAX</span></code> didn’t check that the
reported value was a sensible, positive number.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3025">#3025</a>)</p></li>
<li><p>More commands that invoke <code class="docutils literal notranslate"><span class="pre">git</span></code> and <code class="docutils literal notranslate"><span class="pre">git-annex</span></code> with file
arguments learned to split up the command calls when it is likely
that the command would fail due to exceeding the maximum supported
length.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3138">#3138</a>)</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">setup_yoda_dataset</span></code> procedure created a malformed
.gitattributes line.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3057">#3057</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-download-url.html">download-url</a>
unnecessarily tried to infer the dataset when <code class="docutils literal notranslate"><span class="pre">--no-save</span></code> was
given. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3029">#3029</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-rerun.html">rerun</a>
aborted too late and with a confusing message when a ref specified
via <code class="docutils literal notranslate"><span class="pre">--onto</span></code> didn’t exist.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3019">#3019</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">run</span></code> didn’t preserve the current directory prefix (“./”) on
inputs and outputs, which is problematic if the caller relies on
this representation when formatting the command.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3037">#3037</a>)</p></li>
<li><p>Fixed a number of unicode py2-compatibility issues.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3035">#3035</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3046">#3046</a>)</p></li>
<li><p>To proceed with a failed command, the user was confusingly
instructed to use <code class="docutils literal notranslate"><span class="pre">save</span></code> instead of <code class="docutils literal notranslate"><span class="pre">add</span></code> even though <code class="docutils literal notranslate"><span class="pre">run</span></code>
uses <code class="docutils literal notranslate"><span class="pre">add</span></code> underneath.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3080">#3080</a>)</p></li>
</ul>
</li>
<li><p>Fixed a case where the helper class for checking external modules
incorrectly reported a module as unknown.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3051">#3051</a>)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-add-archive-content.html">add-archive-content</a>
mishandled the archive path when the leading path contained a
symlink. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3058">#3058</a>)</p></li>
<li><p>Following denied access, the credential code failed to consider a
scenario, leading to a type error rather than an appropriate error
message. (<a class="reference external" href="https://github.com/datalad/datalad/issues/3091">#3091</a>)</p></li>
<li><p>Some tests failed when executed from a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">worktree</span></code> checkout of
the source repository.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3129">#3129</a>)</p></li>
<li><p>During metadata extraction, batched annex processes weren’t properly
terminated, leading to issues on Windows.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3137">#3137</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add.html">add</a>
incorrectly handled an “invalid repository” exception when trying to
add a submodule.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3141">#3141</a>)</p></li>
<li><p>Pass <code class="docutils literal notranslate"><span class="pre">GIT_SSH_VARIANT=ssh</span></code> to git processes to be able to specify
alternative ports in SSH urls</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-27">
<span id="id91"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-27" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a>
learned to suggest closely matching keys if there are no hits.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3089">#3089</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a></p>
<ul>
<li><p>gained a <code class="docutils literal notranslate"><span class="pre">--group</span></code> option so that the caller can specify the
file system group for the repository.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3098">#3098</a>)</p></li>
<li><p>now understands SSH URLs that have a port in them (i.e. the
“<a class="reference external" href="ssh://[user&#64;]host.xz[:port]/path/to/repo.git/">ssh://[user&#64;]host.xz[:port]/path/to/repo.git/</a>” syntax mentioned
in <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">git-fetch</span></code>).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3146">#3146</a>)</p></li>
</ul>
</li>
<li><p>Interface classes can now override the default renderer for
summarizing results.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3061">#3061</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--input</span></code> and <code class="docutils literal notranslate"><span class="pre">--output</span></code> can now be shortened to <code class="docutils literal notranslate"><span class="pre">-i</span></code> and
<code class="docutils literal notranslate"><span class="pre">-o</span></code>.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3066">#3066</a>)</p></li>
<li><p>Placeholders such as “{inputs}” are now expanded in the command
that is shown in the commit message subject.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3065">#3065</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interface.run.run_command</span></code> gained an <code class="docutils literal notranslate"><span class="pre">extra_inputs</span></code> argument
so that wrappers like
<a class="reference external" href="https://github.com/datalad/datalad-container">datalad-container</a>
can specify additional inputs that aren’t considered when
formatting the command string.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3038">#3038</a>)</p></li>
<li><p>“–” can now be used to separate options for <code class="docutils literal notranslate"><span class="pre">run</span></code> and those for
the command in ambiguous cases.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3119">#3119</a>)</p></li>
</ul>
</li>
<li><p>The utilities <code class="docutils literal notranslate"><span class="pre">create_tree</span></code> and <code class="docutils literal notranslate"><span class="pre">ok_file_has_content</span></code> now support
“.gz” files.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3049">#3049</a>)</p></li>
<li><p>The Singularity container for 0.11.1 now uses
<a class="reference external" href="https://github.com/neurodebian/neurodebian/blob/master/tools/nd_freeze">nd_freeze</a>
to make its builds reproducible.</p></li>
<li><p>A
<a class="reference external" href="https://datalad.readthedocs.io/en/latest/publications.html">publications</a>
page has been added to the documentation.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3099">#3099</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.set_gitattributes</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">mode</span></code> argument that
controls whether the .gitattributes file is appended to (default) or
overwritten.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3115">#3115</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">--help</span></code> now avoids using <code class="docutils literal notranslate"><span class="pre">man</span></code> so that the list of
subcommands is shown.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3124">#3124</a>)</p></li>
</ul>
</section>
</section>
<section id="nov-26-2018-v7-better-than-v6">
<h2>0.11.1 (Nov 26, 2018) – v7-better-than-v6<a class="headerlink" href="#nov-26-2018-v7-better-than-v6" title="Permalink to this headline"></a></h2>
<p>Rushed out bugfix release to stay fully compatible with recent
<a class="reference external" href="http://git-annex.branchable.com/">git-annex</a> which introduced v7 to
replace v6.</p>
<section id="fixes-33">
<span id="id92"></span><h3>Fixes<a class="headerlink" href="#fixes-33" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>:
be able to install recursively into a dataset
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2982">#2982</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>:
be able to commit/save changes whenever files potentially could have
swapped their storage between git and annex
(<a class="reference external" href="https://github.com/datalad/datalad/issues/1651">#1651</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2752">#2752</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3009">#3009</a>)</p></li>
<li><p>[aggregate-metadata][]:</p>
<ul>
<li><p>dataset’s itself is now not “aggregated” if specific paths are
provided for aggregation
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3002">#3002</a>). That
resolves the issue of <code class="docutils literal notranslate"><span class="pre">-r</span></code> invocation aggregating all
subdatasets of the specified dataset as well</p></li>
<li><p>also compare/verify the actual content checksum of aggregated
metadata while considering subdataset metadata for re-aggregation
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3007">#3007</a>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">annex</span></code> commands are now chunked assuming 50% “safety margin” on
the maximal command line length. Should resolve crashes while
operating ot too many files at ones
(<a class="reference external" href="https://github.com/datalad/datalad/issues/3001">#3001</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run</span></code> sidecar config processing
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2991">#2991</a>)</p></li>
<li><p>no double trailing period in docs
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2984">#2984</a>)</p></li>
<li><p>correct identification of the repository with symlinks in the paths
in the tests
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2972">#2972</a>)</p></li>
<li><p>re-evaluation of dataset properties in case of dataset changes
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2946">#2946</a>)</p></li>
<li><p>[text2git][] procedure to use <code class="docutils literal notranslate"><span class="pre">ds.repo.set_gitattributes</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2974">#2974</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2954">#2954</a>)</p></li>
<li><p>Switch to use plain <code class="docutils literal notranslate"><span class="pre">os.getcwd()</span></code> if inconsistency with env var
<code class="docutils literal notranslate"><span class="pre">$PWD</span></code> is detected
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2914">#2914</a>)</p></li>
<li><p>Make sure that credential defined in env var takes precedence
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2960">#2960</a>)
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2950">#2950</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-28">
<span id="id93"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-28" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://singularity-hub.org/containers/5663/view">shub://datalad/datalad:git-annex-dev</a>
provides a Debian buster Singularity image with build environment for
<a class="reference external" href="http://git-annex.branchable.com/">git-annex</a>.
<code class="docutils literal notranslate"><span class="pre">tools/bisect-git-annex</span></code> provides a helper for running
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code> on git-annex using that Singularity container
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2995">#2995</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">.zenodo.json</span></code> for better integration with Zenodo for
citation</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
now provides names and help messages with a custom renderer for
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2993">#2993</a>)</p></li>
<li><p>Documentation: point to
<a class="reference external" href="http://github.com/datalad/datalad-revolution">datalad-revolution</a>
extension (prototype of the greater DataLad future)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a></p>
<ul>
<li><p>support injecting of a detached command
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2937">#2937</a>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">annex</span></code> metadata extractor now extracts <code class="docutils literal notranslate"><span class="pre">annex.key</span></code> metadata
record. Should allow now to identify uses of specific files etc
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2952">#2952</a>)</p></li>
<li><p>Test that we can install from <a class="reference external" href="http://datasets.datalad.org">http://datasets.datalad.org</a></p></li>
<li><p>Proper rendering of <code class="docutils literal notranslate"><span class="pre">CommandError</span></code> (e.g. in case of “out of space”
error) (<a class="reference external" href="https://github.com/datalad/datalad/issues/2958">#2958</a>)</p></li>
</ul>
</section>
</section>
<section id="oct-23-2018-soon-to-be-perfect">
<h2>0.11.0 (Oct 23, 2018) – Soon-to-be-perfect<a class="headerlink" href="#oct-23-2018-soon-to-be-perfect" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="http://git-annex.branchable.com/">git-annex</a> 6.20180913 (or later)
is now required - provides a number of fixes for v6 mode operations etc.</p>
<section id="major-refactoring-and-deprecations-11">
<span id="id94"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-11" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">datalad.consts.LOCAL_CENTRAL_PATH</span></code> constant was deprecated in
favor of <code class="docutils literal notranslate"><span class="pre">datalad.locations.default-dataset</span></code>
<a class="reference external" href="http://docs.datalad.org/en/latest/config.html">configuration</a>
variable (<a class="reference external" href="https://github.com/datalad/datalad/issues/2835">#2835</a>)</p></li>
</ul>
</section>
<section id="minor-refactoring">
<h3>Minor refactoring<a class="headerlink" href="#minor-refactoring" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;notneeded&quot;</span></code> messages are no longer reported by default results
renderer</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
no longer shows commit instructions upon command failure when
<code class="docutils literal notranslate"><span class="pre">explicit</span></code> is true and no outputs are specified
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2922">#2922</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_git_dir</span></code> moved into GitRepo
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2886">#2886</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_gitpy_custom_call</span></code> removed from GitRepo
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2894">#2894</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.get_merge_base</span></code> argument is now called <code class="docutils literal notranslate"><span class="pre">commitishes</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">treeishes</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2903">#2903</a>)</p></li>
</ul>
</section>
<section id="fixes-34">
<span id="id95"></span><h3>Fixes<a class="headerlink" href="#fixes-34" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
should not leave the dataset in non-clean state
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2858">#2858</a>) and some
other enhancements
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2859">#2859</a>)</p></li>
<li><p>Fixed chunking of the long command lines to account for decorators
and other arguments
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2864">#2864</a>)</p></li>
<li><p>Progress bar should not crash the process on some missing progress
information
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2891">#2891</a>)</p></li>
<li><p>Default value for <code class="docutils literal notranslate"><span class="pre">jobs</span></code> set to be <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> (not <code class="docutils literal notranslate"><span class="pre">None</span></code>) to
take advantage of possible parallel get if in <code class="docutils literal notranslate"><span class="pre">-g</span></code> mode
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2861">#2861</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-wtf.html">wtf</a>
must not crash if <code class="docutils literal notranslate"><span class="pre">git-annex</span></code> is not installed etc
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2865">#2865</a>),
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2865">#2865</a>),
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2918">#2918</a>),
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2917">#2917</a>)</p></li>
<li><p>Fixed paths (with spaces etc) handling while reporting annex error
output (<a class="reference external" href="https://github.com/datalad/datalad/issues/2892">#2892</a>),
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2893">#2893</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__del__</span></code> should not access <code class="docutils literal notranslate"><span class="pre">.repo</span></code> but <code class="docutils literal notranslate"><span class="pre">._repo</span></code> to avoid
attempts for reinstantiation etc
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2901">#2901</a>)</p></li>
<li><p>Fix up submodule <code class="docutils literal notranslate"><span class="pre">.git</span></code> right in <code class="docutils literal notranslate"><span class="pre">GitRepo.add_submodule</span></code> to avoid
added submodules being non git-annex friendly
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2909">#2909</a>),
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2904">#2904</a>)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2905">#2905</a>)</p>
<ul>
<li><p>now will provide dataset into the procedure if called within
dataset</p></li>
<li><p>will not crash if procedure is an executable without <code class="docutils literal notranslate"><span class="pre">.py</span></code> or
<code class="docutils literal notranslate"><span class="pre">.sh</span></code> suffixes</p></li>
</ul>
</li>
<li><p>Use centralized <code class="docutils literal notranslate"><span class="pre">.gitattributes</span></code> handling while setting annex
backend (<a class="reference external" href="https://github.com/datalad/datalad/issues/2912">#2912</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GlobbedPaths.expand(...,</span> <span class="pre">full=True)</span></code> incorrectly returned relative
paths when called more than once
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2921">#2921</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-29">
<span id="id96"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-29" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Report progress on
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
when installing from “smart” git servers
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2876">#2876</a>)</p></li>
<li><p>Stale/unused <code class="docutils literal notranslate"><span class="pre">sth_like_file_has_content</span></code> was removed
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2860">#2860</a>)</p></li>
<li><p>Enhancements to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a>
to operate on “improved” metadata layouts
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2878">#2878</a>)</p></li>
<li><p>Output of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">init</span></code> operation is now logged
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2881">#2881</a>)</p></li>
<li><p>New</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.cherry_pick</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2900">#2900</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GitRepo.format_commit</span></code>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2902">#2902</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2905">#2905</a>)</p>
<ul>
<li><p>procedures can now recursively be discovered in subdatasets as
well. The uppermost has highest priority</p></li>
<li><p>Procedures in user and system locations now take precedence over
those in datasets.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="sep-13-2018-nothing-is-perfect">
<h2>0.10.3.1 (Sep 13, 2018) – Nothing-is-perfect<a class="headerlink" href="#sep-13-2018-nothing-is-perfect" title="Permalink to this headline"></a></h2>
<p>Emergency bugfix to address forgotten boost of version in
<code class="docutils literal notranslate"><span class="pre">datalad/version.py</span></code>.</p>
</section>
<section id="sep-13-2018-almost-perfect">
<h2>0.10.3 (Sep 13, 2018) – Almost-perfect<a class="headerlink" href="#sep-13-2018-almost-perfect" title="Permalink to this headline"></a></h2>
<p>This is largely a bugfix release which addressed many (but not yet all)
issues of working with git-annex direct and version 6 modes, and
operation on Windows in general. Among enhancements you will see the
support of public S3 buckets (even with periods in their names), ability
to configure new providers interactively, and improved <code class="docutils literal notranslate"><span class="pre">egrep</span></code> search
backend.</p>
<p>Although we do not require with this release, it is recommended to make
sure that you are using a recent <code class="docutils literal notranslate"><span class="pre">git-annex</span></code> since it also had a
variety of fixes and enhancements in the past months.</p>
<section id="fixes-35">
<span id="id97"></span><h3>Fixes<a class="headerlink" href="#fixes-35" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Parsing of combined short options has been broken since DataLad
v0.10.0. (<a class="reference external" href="https://github.com/datalad/datalad/issues/2710">#2710</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span></code> instructions shown by <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">run</span></code> for a
command with a non-zero exit were incorrectly formatted.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2692">#2692</a>)</p></li>
<li><p>Decompression of zip files (e.g., through
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">add-archive-content</span></code>) failed on Python 3.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2702">#2702</a>)</p></li>
<li><p>Windows:</p>
<ul>
<li><p>colored log output was not being processed by colorama.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2707">#2707</a>)</p></li>
<li><p>more codepaths now try multiple times when removing a file to deal
with latency and locking issues on Windows.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2795">#2795</a>)</p></li>
</ul>
</li>
<li><p>Internal git fetch calls have been updated to work around a GitPython
<code class="docutils literal notranslate"><span class="pre">BadName</span></code> issue.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2712">#2712</a>),
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2794">#2794</a>)</p></li>
<li><p>The progess bar for annex file transferring was unable to handle an
empty file.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2717">#2717</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">add-readme</span></code> halted when no aggregated metadata was found
rather than displaying a warning.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2731">#2731</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">rerun</span></code> failed if <code class="docutils literal notranslate"><span class="pre">--onto</span></code> was specified and the history
contained no run commits.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2761">#2761</a>)</p></li>
<li><p>Processing of a command’s results failed on a result record with a
missing value (e.g., absent field or subfield in metadata). Now the
missing value is rendered as “N/A”.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2725">#2725</a>).</p></li>
<li><p>A couple of documentation links in the “Delineation from related
solutions” were misformatted.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2773">#2773</a>)</p></li>
<li><p>With the latest git-annex, several known V6 failures are no longer an
issue. (<a class="reference external" href="https://github.com/datalad/datalad/issues/2777">#2777</a>)</p></li>
<li><p>In direct mode, commit changes would often commit annexed content as
regular Git files. A new approach fixes this and resolves a good
number of known failures.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2770">#2770</a>)</p></li>
<li><p>The reporting of command results failed if the current working
directory was removed (e.g., after an unsuccessful <code class="docutils literal notranslate"><span class="pre">install</span></code>).
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2788">#2788</a>)</p></li>
<li><p>When installing into an existing empty directory, <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">install</span></code>
removed the directory after a failed clone.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2788">#2788</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">run</span></code> incorrectly handled inputs and outputs for paths with
spaces and other characters that require shell escaping.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2798">#2798</a>)</p></li>
<li><p>Globbing inputs and outputs for <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">run</span></code> didn’t work correctly
if a subdataset wasn’t installed.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2796">#2796</a>)</p></li>
<li><p>Minor (in)compatibility with git 2.19 - (no) trailing period in an
error message now.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2815">#2815</a>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-30">
<span id="id98"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-30" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Anonymous access is now supported for S3 and other downloaders.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2708">#2708</a>)</p></li>
<li><p>A new interface is available to ease setting up new providers.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2708">#2708</a>)</p></li>
<li><p>Metadata: changes to egrep mode search
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2735">#2735</a>)</p>
<ul>
<li><p>Queries in egrep mode are now case-sensitive when the query
contains any uppercase letters and are case-insensitive otherwise.
The new mode egrepcs can be used to perform a case-sensitive query
with all lower-case letters.</p></li>
<li><p>Search can now be limited to a specific key.</p></li>
<li><p>Multiple queries (list of expressions) are evaluated using AND to
determine whether something is a hit.</p></li>
<li><p>A single multi-field query (e.g., <code class="docutils literal notranslate"><span class="pre">pa*:findme</span></code>) is a hit, when
any matching field matches the query.</p></li>
<li><p>All matching key/value combinations across all (multi-field)
queries are reported in the query_matched result field.</p></li>
<li><p>egrep mode now shows all hits rather than limiting the results to
the top 20 hits.</p></li>
</ul>
</li>
<li><p>The documentation on how to format commands for <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">run</span></code> has
been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2703">#2703</a>)</p></li>
<li><p>The method for determining the current working directory on Windows
has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2707">#2707</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">--version</span></code> now simply shows the version without the
license. (<a class="reference external" href="https://github.com/datalad/datalad/issues/2733">#2733</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">export-archive</span></code> learned to export under an existing
directory via its <code class="docutils literal notranslate"><span class="pre">--filename</span></code> option.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2723">#2723</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">export-to-figshare</span></code> now generates the zip archive in the
root of the dataset unless <code class="docutils literal notranslate"><span class="pre">--filename</span></code> is specified.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2723">#2723</a>)</p></li>
<li><p>After importing <code class="docutils literal notranslate"><span class="pre">datalad.api</span></code>, <code class="docutils literal notranslate"><span class="pre">help(datalad.api)</span></code> (or
<code class="docutils literal notranslate"><span class="pre">datalad.api?</span></code> in IPython) now shows a summary of the available
DataLad commands.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2728">#2728</a>)</p></li>
<li><p>Support for using <code class="docutils literal notranslate"><span class="pre">datalad</span></code> from IPython has been improved.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2722">#2722</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">wtf</span></code> now returns structured data and reports the version
of each extension.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2741">#2741</a>)</p></li>
<li><p>The internal handling of gitattributes information has been improved.
A user-visible consequence is that <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">create</span> <span class="pre">--force</span></code> no
longer duplicates existing attributes.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2744">#2744</a>)</p></li>
<li><p>The “annex” metadata extractor can now be used even when no content
is present.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2724">#2724</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">add_url_to_file</span></code> method (called by commands like
<code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">download-url</span></code> and <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">add-archive-content</span></code>) learned
how to display a progress bar.
(<a class="reference external" href="https://github.com/datalad/datalad/issues/2738">#2738</a>)</p></li>
</ul>
</section>
</section>
<section id="jul-09-2018-thesecuriestever">
<h2>0.10.2 (Jul 09, 2018) – Thesecuriestever<a class="headerlink" href="#jul-09-2018-thesecuriestever" title="Permalink to this headline"></a></h2>
<p>Primarily a bugfix release to accommodate recent git-annex release
forbidding <a class="reference external" href="file://">file://</a> and <a class="reference external" href="http://localhost/">http://localhost/</a> URLs which might lead to
revealing private files if annex is publicly shared.</p>
<section id="fixes-36">
<span id="id99"></span><h3>Fixes<a class="headerlink" href="#fixes-36" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>fixed testing to be compatible with recent git-annex (6.20180626)</p></li>
<li><p><a class="reference external" href="https://datalad.readthedocs.io/en/latest/generated/man/datalad-download-url.html">download-url</a>
will now download to current directory instead of the top of the
dataset</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-31">
<span id="id100"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-31" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>do not quote ~ in URLs to be consistent with quote implementation in
Python 3.7 which now follows RFC 3986</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
support for user-configured placeholder values</p></li>
<li><p>documentation on native git-annex metadata support</p></li>
<li><p>handle 401 errors from LORIS tokens</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yoda</span></code> procedure will instantiate <code class="docutils literal notranslate"><span class="pre">README.md</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--discover</span></code> option added to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run-procedure.html">run-procedure</a>
to list available procedures</p></li>
</ul>
</section>
</section>
<section id="jun-17-2018-ohbm-polish">
<h2>0.10.1 (Jun 17, 2018) – OHBM polish<a class="headerlink" href="#jun-17-2018-ohbm-polish" title="Permalink to this headline"></a></h2>
<p>The is a minor bugfix release.</p>
<section id="fixes-37">
<span id="id101"></span><h3>Fixes<a class="headerlink" href="#fixes-37" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Be able to use backports.lzma as a drop-in replacement for pyliblzma.</p></li>
<li><p>Give help when not specifying a procedure name in <code class="docutils literal notranslate"><span class="pre">run-procedure</span></code>.</p></li>
<li><p>Abort early when a downloader received no filename.</p></li>
<li><p>Avoid <code class="docutils literal notranslate"><span class="pre">rerun</span></code> error when trying to unlock non-available files.</p></li>
</ul>
</section>
</section>
<section id="jun-09-2018-the-release">
<h2>0.10.0 (Jun 09, 2018) – The Release<a class="headerlink" href="#jun-09-2018-the-release" title="Permalink to this headline"></a></h2>
<p>This release is a major leap forward in metadata support.</p>
<section id="major-refactoring-and-deprecations-12">
<span id="id102"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-12" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Metadata</p>
<ul>
<li><p>Prior metadata provided by datasets under <code class="docutils literal notranslate"><span class="pre">.datalad/meta</span></code> is no
longer used or supported. Metadata must be reaggregated using 0.10
version</p></li>
<li><p>Metadata extractor types are no longer auto-guessed and must be
explicitly specified in <code class="docutils literal notranslate"><span class="pre">datalad.metadata.nativetype</span></code> config
(could contain multiple values)</p></li>
<li><p>Metadata aggregation of a dataset hierarchy no longer updates all
datasets in the tree with new metadata. Instead, only the target
dataset is updated. This behavior can be changed via the
–update-mode switch. The new default prevents needless
modification of (3rd-party) subdatasets.</p></li>
<li><p>Neuroimaging metadata support has been moved into a dedicated
extension: <a class="reference external" href="https://github.com/datalad/datalad-neuroimaging">https://github.com/datalad/datalad-neuroimaging</a></p></li>
</ul>
</li>
<li><p>Crawler</p>
<ul>
<li><p>moved into a dedicated extension:
<a class="reference external" href="https://github.com/datalad/datalad-crawler">https://github.com/datalad/datalad-crawler</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">export_tarball</span></code> plugin has been generalized to <code class="docutils literal notranslate"><span class="pre">export_archive</span></code>
and can now also generate ZIP archives.</p></li>
<li><p>By default a dataset X is now only considered to be a super-dataset
of another dataset Y, if Y is also a registered subdataset of X.</p></li>
</ul>
</section>
<section id="fixes-38">
<span id="id103"></span><h3>Fixes<a class="headerlink" href="#fixes-38" title="Permalink to this headline"></a></h3>
<p>A number of fixes did not make it into the 0.9.x series:</p>
<ul class="simple">
<li><p>Dynamic configuration overrides via the <code class="docutils literal notranslate"><span class="pre">-c</span></code> option were not in
effect.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save</span></code> is now more robust with respect to invocation in
subdirectories of a dataset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unlock</span></code> now reports correct paths when running in a dataset
subdirectory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get</span></code> is more robust to path that contain symbolic links.</p></li>
<li><p>symlinks to subdatasets of a dataset are now correctly treated as a
symlink, and not as a subdataset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">add</span></code> now correctly saves staged subdataset additions.</p></li>
<li><p>Running <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span></code> in a dataset no longer adds untracked
content to the dataset. In order to add content a path has to be
given, e.g. <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span> <span class="pre">.</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wtf</span></code> now works reliably with a DataLad that wasn’t installed from
Git (but, e.g., via pip)</p></li>
<li><p>More robust URL handling in <code class="docutils literal notranslate"><span class="pre">simple_with_archives</span></code> crawler
pipeline.</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-32">
<span id="id104"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-32" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Support for DataLad extension that can contribute API components from
3rd-party sources, incl. commands, metadata extractors, and test case
implementations. See
<a class="reference external" href="https://github.com/datalad/datalad-extension-template">https://github.com/datalad/datalad-extension-template</a> for a demo
extension.</p></li>
<li><p>Metadata (everything has changed!)</p>
<ul>
<li><p>Metadata extraction and aggregation is now supported for datasets
and individual files.</p></li>
<li><p>Metadata query via <code class="docutils literal notranslate"><span class="pre">search</span></code> can now discover individual files.</p></li>
<li><p>Extracted metadata can now be stored in XZ compressed files, is
optionally annexed (when exceeding a configurable size threshold),
and obtained on demand (new configuration option
<code class="docutils literal notranslate"><span class="pre">datalad.metadata.create-aggregate-annex-limit</span></code>).</p></li>
<li><p>Status and availability of aggregated metadata can now be reported
via <code class="docutils literal notranslate"><span class="pre">metadata</span> <span class="pre">--get-aggregates</span></code></p></li>
<li><p>New configuration option <code class="docutils literal notranslate"><span class="pre">datalad.metadata.maxfieldsize</span></code> to
exclude too large metadata fields from aggregation.</p></li>
<li><p>The type of metadata is no longer guessed during metadata
extraction. A new configuration option
<code class="docutils literal notranslate"><span class="pre">datalad.metadata.nativetype</span></code> was introduced to enable one or
more particular metadata extractors for a dataset.</p></li>
<li><p>New configuration option
<code class="docutils literal notranslate"><span class="pre">datalad.metadata.store-aggregate-content</span></code> to enable the storage
of aggregated metadata for dataset content (i.e. file-based
metadata) in contrast to just metadata describing a dataset as a
whole.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">search</span></code> was completely reimplemented. It offers three different
modes now:</p>
<ul>
<li><p>‘egrep’ (default): expression matching in a plain string version
of metadata</p></li>
<li><p>‘textblob’: search a text version of all metadata using a fully
featured query language (fast indexing, good for keyword search)</p></li>
<li><p>‘autofield’: search an auto-generated index that preserves
individual fields of metadata that can be represented in a tabular
structure (substantial indexing cost, enables the most detailed
queries of all modes)</p></li>
</ul>
</li>
<li><p>New extensions:</p>
<ul>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-addurls.html">addurls</a>,
an extension for creating a dataset (and possibly subdatasets)
from a list of URLs.</p></li>
<li><p>export_to_figshare</p></li>
<li><p>extract_metadata</p></li>
</ul>
</li>
<li><p>add_readme makes use of available metadata</p></li>
<li><p>By default the wtf extension now hides sensitive information, which
can be included in the output by passing <code class="docutils literal notranslate"><span class="pre">--senstive=some</span></code> or
<code class="docutils literal notranslate"><span class="pre">--senstive=all</span></code>.</p></li>
<li><p>Reduced startup latency by only importing commands necessary for a
particular command line call.</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create.html">create</a>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">&lt;parent&gt;</span> <span class="pre">--nosave</span></code> now registers subdatasets, when possible.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--fake-dates</span></code> configures dataset to use fake-dates</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
now provides a way for the caller to save the result when a command
has a non-zero exit status.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">rerun</span></code> now has a <code class="docutils literal notranslate"><span class="pre">--script</span></code> option that can be used to
extract previous commands into a file.</p></li>
<li><p>A DataLad Singularity container is now available on <a class="reference external" href="https://singularity-hub.org/collections/667">Singularity
Hub</a>.</p></li>
<li><p>More casts have been embedded in the <a class="reference external" href="http://docs.datalad.org/en/docs/usecases/index.html">use case section of the
documentation</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">--report-status</span></code> has a new value ‘all’ that can be used to
temporarily re-enable reporting that was disable by configuration
settings.</p></li>
</ul>
</section>
</section>
<section id="mar-16-2018-pi-0-02-release">
<h2>0.9.3 (Mar 16, 2018) – pi+0.02 release<a class="headerlink" href="#mar-16-2018-pi-0-02-release" title="Permalink to this headline"></a></h2>
<p>Some important bug fixes which should improve usability</p>
<section id="fixes-39">
<span id="id105"></span><h3>Fixes<a class="headerlink" href="#fixes-39" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">datalad-archives</span></code> special remote now will lock on acquiring or
extracting an archive - this allows for it to be used with -J flag
for parallel operation</p></li>
<li><p>relax introduced in 0.9.2 demand on git being configured for datalad
operation - now we will just issue a warning</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">ls</span></code> should now list “authored date” and work also for
datasets in detached HEAD mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span></code> will now save original file as well, if file was
“git mv”ed, so you can now <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">run</span> <span class="pre">git</span> <span class="pre">mv</span> <span class="pre">old</span> <span class="pre">new</span></code> and have
changes recorded</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-33">
<span id="id106"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-33" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument now could take <code class="docutils literal notranslate"><span class="pre">auto</span></code> value which would decide
on # of jobs depending on the # of available CPUs. <code class="docutils literal notranslate"><span class="pre">git-annex</span></code> &gt;
6.20180314 is recommended to avoid regression with -J.</p></li>
<li><p>memoize calls to <code class="docutils literal notranslate"><span class="pre">RI</span></code> meta-constructor – should speed up operation
a bit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATALAD_SEED</span></code> environment variable could be used to seed Python
RNG and provide reproducible UUIDs etc (useful for testing and demos)</p></li>
</ul>
</section>
</section>
<section id="mar-04-2018-it-is-again-better-than-ever">
<h2>0.9.2 (Mar 04, 2018) – it is (again) better than ever<a class="headerlink" href="#mar-04-2018-it-is-again-better-than-ever" title="Permalink to this headline"></a></h2>
<p>Largely a bugfix release with a few enhancements.</p>
<section id="fixes-40">
<span id="id107"></span><h3>Fixes<a class="headerlink" href="#fixes-40" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Execution of external commands (git) should not get stuck when lots
of both stdout and stderr output, and should not loose remaining
output in some cases</p></li>
<li><p>Config overrides provided in the command line (-c) should now be
handled correctly</p></li>
<li><p>Consider more remotes (not just tracking one, which might be none)
while installing subdatasets</p></li>
<li><p>Compatibility with git 2.16 with some changed behaviors/annotations
for submodules</p></li>
<li><p>Fail <code class="docutils literal notranslate"><span class="pre">remove</span></code> if <code class="docutils literal notranslate"><span class="pre">annex</span> <span class="pre">drop</span></code> failed</p></li>
<li><p>Do not fail operating on files which start with dash (-)</p></li>
<li><p>URL unquote paths within S3, URLs and DataLad RIs (///)</p></li>
<li><p>In non-interactive mode fail if authentication/access fails</p></li>
<li><p>Web UI:</p>
<ul>
<li><p>refactored a little to fix incorrect listing of submodules in
subdirectories</p></li>
<li><p>now auto-focuses on search edit box upon entering the page</p></li>
</ul>
</li>
<li><p>Assure that extracted from tarballs directories have executable bit
set</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-34">
<span id="id108"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-34" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>A log message and progress bar will now inform if a tarball to be
downloaded while getting specific files (requires git-annex &gt;
6.20180206)</p></li>
<li><p>A dedicated <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">rerun</span></code> command capable of rerunning entire
sequences of previously <code class="docutils literal notranslate"><span class="pre">run</span></code> commands. <strong>Reproducibility through
VCS. Use ``run`` even if not interested in ``rerun``</strong></p></li>
<li><p>Alert the user if <code class="docutils literal notranslate"><span class="pre">git</span></code> is not yet configured but git operations
are requested</p></li>
<li><p>Delay collection of previous ssh connections until it is actually
needed. Also do not require ‘:’ while specifying ssh host</p></li>
<li><p>AutomagicIO: Added proxying of isfile, lzma.LZMAFile and io.open</p></li>
<li><p>Testing:</p>
<ul>
<li><p>added DATALAD_DATASETS_TOPURL=http://datasets-tests.datalad.org to
run tests against another website to not obscure access stats</p></li>
<li><p>tests run against temporary HOME to avoid side-effects</p></li>
<li><p>better unit-testing of interactions with special remotes</p></li>
</ul>
</li>
<li><p>CONTRIBUTING.md describes how to setup and use <code class="docutils literal notranslate"><span class="pre">git-hub</span></code> tool to
“attach” commits to an issue making it into a PR</p></li>
<li><p>DATALAD_USE_DEFAULT_GIT env variable could be used to cause DataLad
to use default (not the one possibly bundled with git-annex) git</p></li>
<li><p>Be more robust while handling not supported requests by annex in
special remotes</p></li>
<li><p>Use of <code class="docutils literal notranslate"><span class="pre">swallow_logs</span></code> in the code was refactored away – less
mysteries now, just increase logging level</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wtf</span></code> plugin will report more information about environment,
externals and the system</p></li>
</ul>
</section>
</section>
<section id="oct-01-2017-datalad-jbtm">
<h2>0.9.1 (Oct 01, 2017) – “DATALAD!”(JBTM)<a class="headerlink" href="#oct-01-2017-datalad-jbtm" title="Permalink to this headline"></a></h2>
<p>Minor bugfix release</p>
<section id="fixes-41">
<span id="id109"></span><h3>Fixes<a class="headerlink" href="#fixes-41" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Should work correctly with subdatasets named as numbers of bool
values (requires also GitPython &gt;= 2.1.6)</p></li>
<li><p>Custom special remotes should work without crashing with git-annex &gt;=
6.20170924</p></li>
</ul>
</section>
</section>
<section id="sep-19-2017-isnt-it-a-lucky-day-even-though-not-a-friday">
<h2>0.9.0 (Sep 19, 2017) – isn’t it a lucky day even though not a Friday?<a class="headerlink" href="#sep-19-2017-isnt-it-a-lucky-day-even-though-not-a-friday" title="Permalink to this headline"></a></h2>
<section id="major-refactoring-and-deprecations-13">
<span id="id110"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-13" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">files</span></code> argument of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
has been renamed to <code class="docutils literal notranslate"><span class="pre">path</span></code> to be uniform with any other command</p></li>
<li><p>all major commands now implement more uniform API semantics and
result reporting. Functionality for modification detection of dataset
content has been completely replaced with a more efficient
implementation</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
now features a <code class="docutils literal notranslate"><span class="pre">--transfer-data</span></code> switch that allows for a
disambiguous specification of whether to publish data – independent
of the selection which datasets to publish (which is done via their
paths). Moreover,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
now transfers data before repository content is pushed.</p></li>
</ul>
</section>
<section id="fixes-42">
<span id="id111"></span><h3>Fixes<a class="headerlink" href="#fixes-42" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-drop.html">drop</a>
no longer errors when some subdatasets are not installed</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
will no longer report nothing when a Dataset instance was given as a
source argument, but rather perform as expected</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-remove.html">remove</a>
doesn’t remove when some files of a dataset could not be dropped</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a></p>
<ul>
<li><p>no longer hides error during a repository push</p></li>
<li><p>publish behaves “correctly” for <code class="docutils literal notranslate"><span class="pre">--since=</span></code> in considering only
the differences the last “pushed” state</p></li>
<li><p>data transfer handling while publishing with dependencies, to
github</p></li>
</ul>
</li>
<li><p>improved robustness with broken Git configuration</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a>
should search for unicode strings correctly and not crash</p></li>
<li><p>robustify git-annex special remotes protocol handling to allow for
spaces in the last argument</p></li>
<li><p>UI credentials interface should now allow to Ctrl-C the entry</p></li>
<li><p>should not fail while operating on submodules named with numerics
only or by bool (true/false) names</p></li>
<li><p>crawl templates should not now override settings for <code class="docutils literal notranslate"><span class="pre">largefiles</span></code>
if specified in <code class="docutils literal notranslate"><span class="pre">.gitattributes</span></code></p></li>
</ul>
</section>
<section id="enhancements-and-new-features-35">
<span id="id112"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-35" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><strong>Exciting new feature</strong>
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-run.html">run</a>
command to protocol execution of an external command and rerun
computation if desired. See
<a class="reference external" href="http://datalad.org/features.html#reproducible-science">screencast</a></p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a>
now uses Git for detecting with sundatasets need to be inspected for
potential changes, instead of performing a complete traversal of a
dataset tree</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add.html">add</a>
looks for changes relative to the last commited state of a dataset to
discover files to add more efficiently</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>
can now report untracked files in addition to modified files</p></li>
<li><p>[uninstall][] will check itself whether a subdataset is properly
registered in a superdataset, even when no superdataset is given in a
call</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-subdatasets.html">subdatasets</a>
can now configure subdatasets for exclusion from recursive
installation (<code class="docutils literal notranslate"><span class="pre">datalad-recursiveinstall</span></code> submodule configuration
property)</p></li>
<li><p>precrafted pipelines of [crawl][] now will not override
<code class="docutils literal notranslate"><span class="pre">annex.largefiles</span></code> setting if any was set within <code class="docutils literal notranslate"><span class="pre">.gitattribues</span></code>
(e.g. by <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">create</span> <span class="pre">--text-no-annex</span></code>)</p></li>
<li><p>framework for screencasts: <code class="docutils literal notranslate"><span class="pre">tools/cast*</span></code> tools and sample cast
scripts under <code class="docutils literal notranslate"><span class="pre">doc/casts</span></code> which are published at
<a class="reference external" href="http://datalad.org/features.html">datalad.org/features.html</a></p></li>
<li><p>new <a class="reference external" href="https://www.youtube.com/channel/UCB8-Zf7D0DSzAsREoIt0Bvw">project YouTube
channel</a></p></li>
<li><p>tests failing in direct and/or v6 modes marked explicitly</p></li>
</ul>
</section>
</section>
<section id="aug-13-2017-the-best-birthday-gift">
<h2>0.8.1 (Aug 13, 2017) – the best birthday gift<a class="headerlink" href="#aug-13-2017-the-best-birthday-gift" title="Permalink to this headline"></a></h2>
<p>Bugfixes</p>
<section id="fixes-43">
<span id="id113"></span><h3>Fixes<a class="headerlink" href="#fixes-43" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Do not attempt to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
a not installed sub-dataset</p></li>
<li><p>In case of too many files to be specified for
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
or
<a class="reference external" href="http://docs.datalad.org/en/latest/_modules/datalad/support/annexrepo.html?highlight=%22copy_to%22">copy_to</a>,
we will make multiple invocations of underlying git-annex command to
not overfill command line</p></li>
<li><p>More robust handling of unicode output in terminals which might not
support it</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-36">
<span id="id114"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-36" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Ship a copy of numpy.testing to facilitate [test][] without requiring
numpy as dependency. Also allow to pass to command which test(s) to
run</p></li>
<li><p>In
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
and
<a class="reference external" href="http://docs.datalad.org/en/latest/_modules/datalad/support/annexrepo.html?highlight=%22copy_to%22">copy_to</a>
provide actual original requested paths, not the ones we deduced need
to be transferred, solely for knowing the total</p></li>
</ul>
</section>
</section>
<section id="jul-31-2017-it-is-better-than-ever">
<h2>0.8.0 (Jul 31, 2017) – it is better than ever<a class="headerlink" href="#jul-31-2017-it-is-better-than-ever" title="Permalink to this headline"></a></h2>
<p>A variety of fixes and enhancements</p>
<section id="fixes-44">
<span id="id115"></span><h3>Fixes<a class="headerlink" href="#fixes-44" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
would now push merged <code class="docutils literal notranslate"><span class="pre">git-annex</span></code> branch even if no other changes
were done</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
should be able to publish using relative path within SSH URI (git
hook would use relative paths)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
should better tollerate publishing to pure git and <code class="docutils literal notranslate"><span class="pre">git-annex</span></code>
special remotes</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-37">
<span id="id116"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-37" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-plugin.html">plugin</a>
mechanism came to replace
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-export.html">export</a>.
See
<a class="reference external" href="http://docs.datalad.org/en/latest/generated/datalad.plugin.export_tarball.html">export_tarball</a>
for the replacement of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-export.html">export</a>.
Now it should be easy to extend datalad’s interface with custom
functionality to be invoked along with other commands.</p></li>
<li><p>Minimalistic coloring of the results rendering</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>/<code class="docutils literal notranslate"><span class="pre">copy_to</span></code>
got progress bar report now and support of <code class="docutils literal notranslate"><span class="pre">--jobs</span></code></p></li>
<li><p>minor fixes and enhancements to crawler (e.g. support of recursive
removes)</p></li>
</ul>
</section>
</section>
<section id="jun-25-2017-when-it-works-it-is-quite-awesome">
<h2>0.7.0 (Jun 25, 2017) – when it works - it is quite awesome!<a class="headerlink" href="#jun-25-2017-when-it-works-it-is-quite-awesome" title="Permalink to this headline"></a></h2>
<p>New features, refactorings, and bug fixes.</p>
<section id="major-refactoring-and-deprecations-14">
<span id="id117"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-14" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add-sibling.html">add-sibling</a>
has been fully replaced by the
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
command</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>,
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-unlock.html">unlock</a>
have been re-written to support the same common API as most other
commands</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-38">
<span id="id118"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-38" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
can now be used to query and configure a local repository by using
the sibling name <code class="docutils literal notranslate"><span class="pre">here</span></code></p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
can now query and set annex preferred content configuration. This
includes <code class="docutils literal notranslate"><span class="pre">wanted</span></code> (as previously supported in other commands), and
now also <code class="docutils literal notranslate"><span class="pre">required</span></code></p></li>
<li><p>New
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-metadata.html">metadata</a>
command to interface with datasets/files
<a class="reference external" href="http://docs.datalad.org/en/latest/cmdline.html#meta-data-handling">meta-data</a></p></li>
<li><p>Documentation for all commands is now built in a uniform fashion</p></li>
<li><p>Significant parts of the documentation of been updated</p></li>
<li><p>Instantiate GitPython’s Repo instances lazily</p></li>
</ul>
</section>
<section id="fixes-45">
<span id="id119"></span><h3>Fixes<a class="headerlink" href="#fixes-45" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>API documentation is now rendered properly as HTML, and is easier to
browse by having more compact pages</p></li>
<li><p>Closed files left open on various occasions (Popen PIPEs, etc)</p></li>
<li><p>Restored basic (consumer mode of operation) compatibility with
Windows OS</p></li>
</ul>
</section>
</section>
<section id="jun-14-2017-german-perfectionism">
<h2>0.6.0 (Jun 14, 2017) – German perfectionism<a class="headerlink" href="#jun-14-2017-german-perfectionism" title="Permalink to this headline"></a></h2>
<p>This release includes a <strong>huge</strong> refactoring to make code base and
functionality more robust and flexible</p>
<ul class="simple">
<li><p>outputs from API commands could now be highly customized. See
<code class="docutils literal notranslate"><span class="pre">--output-format</span></code>, <code class="docutils literal notranslate"><span class="pre">--report-status</span></code>, <code class="docutils literal notranslate"><span class="pre">--report-type</span></code>, and
<code class="docutils literal notranslate"><span class="pre">--report-type</span></code> options for
<a class="reference external" href="http://docs.datalad.org/en/latest/generated/man/datalad.html">datalad</a>
command.</p></li>
<li><p>effort was made to refactor code base so that underlying functions
behave as generators where possible</p></li>
<li><p>input paths/arguments analysis was redone for majority of the
commands to provide unified behavior</p></li>
</ul>
<section id="major-refactoring-and-deprecations-15">
<span id="id120"></span><h3>Major refactoring and deprecations<a class="headerlink" href="#major-refactoring-and-deprecations-15" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">add-sibling</span></code> and <code class="docutils literal notranslate"><span class="pre">rewrite-urls</span></code> were refactored in favor of new
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
command which should be used for siblings manipulations</p></li>
<li><p>‘datalad.api.alwaysrender’ config setting/support is removed in favor
of new outputs processing</p></li>
</ul>
</section>
<section id="fixes-46">
<span id="id121"></span><h3>Fixes<a class="headerlink" href="#fixes-46" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Do not flush manually git index in pre-commit to avoid “Death by the
Lock” issue</p></li>
<li><p>Deployed by
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
<code class="docutils literal notranslate"><span class="pre">post-update</span></code> hook script now should be more robust (tolerate
directory names with spaces, etc.)</p></li>
<li><p>A variety of fixes, see <a class="reference external" href="https://github.com/datalad/datalad/milestone/41?closed=1">list of pull requests and issues
closed</a>
for more information</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-39">
<span id="id122"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-39" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>new
<a class="reference external" href="http://docs.datalad.org/en/latest/generated/man/datalad-annotate-paths.html">annotate-paths</a>
plumbing command to inspect and annotate provided paths. Use
<code class="docutils literal notranslate"><span class="pre">--modified</span></code> to summarize changes between different points in the
history</p></li>
<li><p>new
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clone.html">clone</a>
plumbing command to provide a subset (install a single dataset from a
URL) functionality of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a></p></li>
<li><p>new
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-diff.html">diff</a>
plumbing command</p></li>
<li><p>new
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-siblings.html">siblings</a>
command to list or manipulate siblings</p></li>
<li><p>new
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-subdatasets.html">subdatasets</a>
command to list subdatasets and their properties</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-drop.html">drop</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-remove.html">remove</a>
commands were refactored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">benchmarks/</span></code> collection of <a class="reference external" href="https://github.com/spacetelescope/asv/">Airspeed
velocity</a> benchmarks
initiated. See reports at <a class="reference external" href="http://datalad.github.io/datalad/">http://datalad.github.io/datalad/</a></p></li>
<li><p>crawler would try to download a new url multiple times increasing
delay between attempts. Helps to resolve problems with extended
crawls of Amazon S3</p></li>
<li><p><a class="reference external" href="http://crcns.org">CRCNS</a> crawler pipeline now also fetches and
aggregates meta-data for the datasets from datacite</p></li>
<li><p>overall optimisations to benefit from the aforementioned refactoring
and improve user-experience</p></li>
<li><p>a few stub and not (yet) implemented commands (e.g. <code class="docutils literal notranslate"><span class="pre">move</span></code>) were
removed from the interface</p></li>
<li><p>Web frontend got proper coloring for the breadcrumbs and some
additional caching to speed up interactions. See
<a class="reference external" href="http://datasets.datalad.org">http://datasets.datalad.org</a></p></li>
<li><p>Small improvements to the online documentation. See e.g. <a class="reference external" href="http://docs.datalad.org/en/latest/related.html#git-git-annex-datalad">summary of
differences between
git/git-annex/datalad</a></p></li>
</ul>
</section>
</section>
<section id="mar-25-2017-cannot-stop-the-progress">
<h2>0.5.1 (Mar 25, 2017) – cannot stop the progress<a class="headerlink" href="#mar-25-2017-cannot-stop-the-progress" title="Permalink to this headline"></a></h2>
<p>A bugfix release</p>
<section id="fixes-47">
<span id="id123"></span><h3>Fixes<a class="headerlink" href="#fixes-47" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add.html">add</a>
was forcing addition of files to annex regardless of settings in
<code class="docutils literal notranslate"><span class="pre">.gitattributes</span></code>. Now that decision is left to annex by default</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tools/testing/run_doc_examples</span></code> used to run doc examples as tests,
fixed up to provide status per each example and not fail at once</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doc/examples</span></code></p>
<ul>
<li><p><a class="reference external" href="http://docs.datalad.org/en/latest/generated/examples/3rdparty_analysis_workflow.html">3rdparty_analysis_workflow.sh</a>
was fixed up to reflect changes in the API of 0.5.0.</p></li>
</ul>
</li>
<li><p>progress bars</p>
<ul>
<li><p>should no longer crash <strong>datalad</strong> and report correct sizes and
speeds</p></li>
<li><p>should provide progress reports while using Python 3.x</p></li>
</ul>
</li>
</ul>
</section>
<section id="enhancements-and-new-features-40">
<span id="id124"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-40" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">doc/examples</span></code></p>
<ul>
<li><p><a class="reference external" href="http://docs.datalad.org/en/latest/generated/examples/nipype_workshop_dataset.html">nipype_workshop_dataset.sh</a>
new example to demonstrate how new super- and sub- datasets were
established as a part of our datasets collection</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="mar-20-2017-its-huge">
<h2>0.5.0 (Mar 20, 2017) – it’s huge<a class="headerlink" href="#mar-20-2017-its-huge" title="Permalink to this headline"></a></h2>
<p>This release includes an avalanche of bug fixes, enhancements, and
additions which at large should stay consistent with previous behavior
but provide better functioning. Lots of code was refactored to provide
more consistent code-base, and some API breakage has happened. Further
work is ongoing to standardize output and results reporting
(<a class="reference external" href="https://github.com/datalad/datalad/issues/1350">#1350</a>)</p>
<section id="most-notable-changes">
<h3>Most notable changes<a class="headerlink" href="#most-notable-changes" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>requires <a class="reference external" href="http://git-annex.branchable.com/">git-annex</a> &gt;=
6.20161210 (or better even &gt;= 6.20161210 for improved functionality)</p></li>
<li><p>commands should now operate on paths specified (if any), without
causing side-effects on other dirty/staged files</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">-a</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">-u</span></code> or <code class="docutils literal notranslate"><span class="pre">--all-updates</span></code> so
only changes known components get saved, and no new files
automagically added</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-S</span></code> does no longer store the originating dataset in its commit
message</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add.html">add</a></p>
<ul>
<li><p>can specify commit/save message with <code class="docutils literal notranslate"><span class="pre">-m</span></code></p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add-sibling.html">add-sibling</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a></p>
<ul>
<li><p>now take the name of the sibling (remote) as a <code class="docutils literal notranslate"><span class="pre">-s</span></code> (<code class="docutils literal notranslate"><span class="pre">--name</span></code>)
option, not a positional argument</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--publish-depends</span></code> to setup publishing data and code to
multiple repositories (e.g. github + webserve) should now be
functional see <a class="reference external" href="https://github.com/datalad/datalad/issues/335#issuecomment-277240733">this
comment</a></p></li>
<li><p>got <code class="docutils literal notranslate"><span class="pre">--publish-by-default</span></code> to specify what refs should be
published by default</p></li>
<li><p>got <code class="docutils literal notranslate"><span class="pre">--annex-wanted</span></code>, <code class="docutils literal notranslate"><span class="pre">--annex-groupwanted</span></code> and
<code class="docutils literal notranslate"><span class="pre">--annex-group</span></code> settings which would be used to instruct annex
about preferred content.
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a>
then will publish data using those settings if <code class="docutils literal notranslate"><span class="pre">wanted</span></code> is set.</p></li>
<li><p>got <code class="docutils literal notranslate"><span class="pre">--inherit</span></code> option to automagically figure out url/wanted
and other git/annex settings for new remote sub-dataset to be
constructed</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-publish.html">publish</a></p>
<ul>
<li><p>got <code class="docutils literal notranslate"><span class="pre">--skip-failing</span></code> refactored into <code class="docutils literal notranslate"><span class="pre">--missing</span></code> option which
could use new feature of
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>
<code class="docutils literal notranslate"><span class="pre">--inherit</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="fixes-48">
<span id="id125"></span><h3>Fixes<a class="headerlink" href="#fixes-48" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>More consistent interaction through ssh - all ssh connections go
through
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-sshrun.html">sshrun</a>
shim for a “single point of authentication”, etc.</p></li>
<li><p>More robust
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-ls.html">ls</a>
operation outside of the datasets</p></li>
<li><p>A number of fixes for direct and v6 mode of annex</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-41">
<span id="id126"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-41" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>New
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-drop.html">drop</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-remove.html">remove</a>
commands</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-clean.html">clean</a></p>
<ul>
<li><p>got <code class="docutils literal notranslate"><span class="pre">--what</span></code> to specify explicitly what cleaning steps to
perform and now could be invoked with <code class="docutils literal notranslate"><span class="pre">-r</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalad</span></code> and <code class="docutils literal notranslate"><span class="pre">git-annex-remote*</span></code> scripts now do not use
setuptools entry points mechanism and rely on simple import to
shorten start up time</p></li>
<li><p><a class="reference external" href="http://docs.datalad.org/en/latest/generated/datalad.api.Dataset.html">Dataset</a>
is also now using <a class="reference external" href="https://en.wikipedia.org/wiki/Flyweight_pattern">Flyweight
pattern</a>, so the
same instance is reused for the same dataset</p></li>
<li><p>progressbars should not add more empty lines</p></li>
</ul>
</section>
<section id="internal-refactoring">
<h3>Internal refactoring<a class="headerlink" href="#internal-refactoring" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Majority of the commands now go through <code class="docutils literal notranslate"><span class="pre">_prep</span></code> for arguments
validation and pre-processing to avoid recursive invocations</p></li>
</ul>
</section>
</section>
<section id="nov-10-2016-ca-release">
<h2>0.4.1 (Nov 10, 2016) – CA release<a class="headerlink" href="#nov-10-2016-ca-release" title="Permalink to this headline"></a></h2>
<p>Requires now GitPython &gt;= 2.1.0</p>
<section id="fixes-49">
<span id="id127"></span><h3>Fixes<a class="headerlink" href="#fixes-49" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a></p>
<ul>
<li><p>to not save staged files if explicit paths were provided</p></li>
</ul>
</li>
<li><p>improved (but not yet complete) support for direct mode</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-update.html">update</a>
to not crash if some sub-datasets are not installed</p></li>
<li><p>do not log calls to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span></code> to avoid leakage of possibly
sensitive settings to the logs</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-42">
<span id="id128"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-42" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>New <a class="reference external" href="http://docs.datalad.org/en/latest/metadata.html#rfc822-compliant-meta-data">rfc822-compliant
metadata</a>
format</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-save.html">save</a></p>
<ul>
<li><p>-S to save the change also within all super-datasets</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-add.html">add</a>
now has progress-bar reporting</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling-github.html">create-sibling-github</a>
to create a :term:<code class="docutils literal notranslate"><span class="pre">sibling</span></code> of a dataset on github</p></li>
<li><p><a class="reference external" href="http://openfmri.org">OpenfMRI</a> crawler and datasets were enriched
with URLs to separate files where also available from openfmri s3
bucket (if upgrading your datalad datasets, you might need to run
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annex</span> <span class="pre">enableremote</span> <span class="pre">datalad</span></code> to make them available)</p></li>
<li><p>various enhancements to log messages</p></li>
<li><p>web interface</p>
<ul>
<li><p>populates “install” box first thus making UX better over slower
connections</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="oct-22-2016-paris-is-waiting">
<h2>0.4 (Oct 22, 2016) – Paris is waiting<a class="headerlink" href="#oct-22-2016-paris-is-waiting" title="Permalink to this headline"></a></h2>
<p>Primarily it is a bugfix release but because of significant refactoring
of the
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
and
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
implementation, it gets a new minor release.</p>
<section id="fixes-50">
<span id="id129"></span><h3>Fixes<a class="headerlink" href="#fixes-50" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>be able to
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
or
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
while providing paths while being outside of a dataset</p></li>
<li><p>remote annex datasets get properly initialized</p></li>
<li><p>robust detection of outdated
<a class="reference external" href="http://git-annex.branchable.com/">git-annex</a></p></li>
</ul>
</section>
<section id="enhancements-and-new-features-43">
<span id="id130"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-43" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>interface changes</p>
<ul>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
<code class="docutils literal notranslate"><span class="pre">--recursion-limit=existing</span></code> to not recurse into not-installed
subdatasets</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
<code class="docutils literal notranslate"><span class="pre">-n</span></code> to possibly install sub-datasets without getting any data</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
<code class="docutils literal notranslate"><span class="pre">--jobs|-J</span></code> to specify number of parallel jobs for annex
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a>
call could use (ATM would not work when data comes from archives)</p></li>
</ul>
</li>
<li><p>more (unit-)testing</p></li>
<li><p>documentation: see <a class="reference external" href="http://docs.datalad.org/en/latest/basics.html">http://docs.datalad.org/en/latest/basics.html</a> for
basic principles and useful shortcuts in referring to datasets</p></li>
<li><p>various webface improvements: breadcrumb paths, instructions how to
install dataset, show version from the tags, etc.</p></li>
</ul>
</section>
</section>
<section id="oct-1-2016-what-a-wonderful-week">
<h2>0.3.1 (Oct 1, 2016) – what a wonderful week<a class="headerlink" href="#oct-1-2016-what-a-wonderful-week" title="Permalink to this headline"></a></h2>
<p>Primarily bugfixes but also a number of enhancements and core
refactorings</p>
<section id="fixes-51">
<span id="id131"></span><h3>Fixes<a class="headerlink" href="#fixes-51" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>do not build manpages and examples during installation to avoid
problems with possibly previously outdated dependencies</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
can be called on already installed dataset (with <code class="docutils literal notranslate"><span class="pre">-r</span></code> or <code class="docutils literal notranslate"><span class="pre">-g</span></code>)</p></li>
</ul>
</section>
<section id="enhancements-and-new-features-44">
<span id="id132"></span><h3>Enhancements and new features<a class="headerlink" href="#enhancements-and-new-features-44" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>complete overhaul of datalad configuration settings handling (see
<a class="reference external" href="http://docs.datalad.org/config.html">Configuration
documentation</a>), so majority
of the environment. Now uses git format and stores persistent
configuration settings under <code class="docutils literal notranslate"><span class="pre">.datalad/config</span></code> and local within
<code class="docutils literal notranslate"><span class="pre">.git/config</span></code> variables we have used were renamed to match
configuration names</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>
does not now by default upload web front-end</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-export.html">export</a>
command with a plug-in interface and <code class="docutils literal notranslate"><span class="pre">tarball</span></code> plugin to export
datasets</p></li>
<li><p>in Python, <code class="docutils literal notranslate"><span class="pre">.api</span></code> functions with rendering of results in command
line got a _-suffixed sibling, which would render results as well in
Python as well (e.g., using <code class="docutils literal notranslate"><span class="pre">search_</span></code> instead of <code class="docutils literal notranslate"><span class="pre">search</span></code> would
also render results, not only output them back as Python objects)</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> option (passed to <code class="docutils literal notranslate"><span class="pre">annex</span> <span class="pre">get</span></code>) for parallel downloads</p></li>
<li><p>total and per-download (with git-annex &gt;= 6.20160923) progress
bars (note that if content is to be obtained from an archive, no
progress will be reported yet)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
<code class="docutils literal notranslate"><span class="pre">--reckless</span></code> mode option</p></li>
<li><p><a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a></p>
<ul>
<li><p>highlights locations and fieldmaps for better readability</p></li>
<li><p>supports <code class="docutils literal notranslate"><span class="pre">-d^</span></code> or <code class="docutils literal notranslate"><span class="pre">-d///</span></code> to point to top-most or centrally
installed meta-datasets</p></li>
<li><p>“complete” paths to the datasets are reported now</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> option to specify which fields (only) to search</p></li>
</ul>
</li>
<li><p>various enhancements and small fixes to
<a class="reference external" href="http://docs.datalad.org/en/latest/cmdline.html#meta-data-handling">meta-data</a>
handling,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-ls.html">ls</a>,
custom remotes, code-base formatting, downloaders, etc</p></li>
<li><p>completely switched to <code class="docutils literal notranslate"><span class="pre">tqdm</span></code> library (<code class="docutils literal notranslate"><span class="pre">progressbar</span></code> is no longer
used/supported)</p></li>
</ul>
</section>
</section>
<section id="sep-23-2016-winter-is-coming">
<h2>0.3 (Sep 23, 2016) – winter is coming<a class="headerlink" href="#sep-23-2016-winter-is-coming" title="Permalink to this headline"></a></h2>
<p>Lots of everything, including but not limited to</p>
<ul class="simple">
<li><p>enhanced index viewer, as the one on <a class="reference external" href="http://datasets.datalad.org">http://datasets.datalad.org</a></p></li>
<li><p>initial new data providers support:
<a class="reference external" href="https://www.kaggle.com">Kaggle</a>,
<a class="reference external" href="http://balsa.wustl.edu">BALSA</a>,
<a class="reference external" href="http://data-archive.nimh.nih.gov">NDA</a>,
<a class="reference external" href="https://www.nitrc.org">NITRC</a></p></li>
<li><p>initial <a class="reference external" href="http://docs.datalad.org/en/latest/cmdline.html#meta-data-handling">meta-data support and
management</a></p></li>
<li><p>new and/or improved crawler pipelines for
<a class="reference external" href="http://balsa.wustl.edu">BALSA</a>, <a class="reference external" href="http://crcns.org">CRCNS</a>,
<a class="reference external" href="http://openfmri.org">OpenfMRI</a></p></li>
<li><p>refactored
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-install.html">install</a>
command, now with separate
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-get.html">get</a></p></li>
<li><p>some other commands renaming/refactoring (e.g.,
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-create-sibling.html">create-sibling</a>)</p></li>
<li><p>datalad
<a class="reference external" href="http://datalad.readthedocs.io/en/latest/generated/man/datalad-search.html">search</a>
would give you an option to install datalad’s super-dataset under
~/datalad if ran outside of a dataset</p></li>
</ul>
<section id="jun-28-2016-busy-ohbm">
<h3>0.2.3 (Jun 28, 2016) – busy OHBM<a class="headerlink" href="#jun-28-2016-busy-ohbm" title="Permalink to this headline"></a></h3>
<p>New features and bugfix release</p>
<ul class="simple">
<li><p>support of /// urls to point to <a class="reference external" href="http://datasets.datalad.org">http://datasets.datalad.org</a></p></li>
<li><p>variety of fixes and enhancements throughout</p></li>
</ul>
</section>
<section id="jun-20-2016-ohbm-we-are-coming">
<h3>0.2.2 (Jun 20, 2016) – OHBM we are coming!<a class="headerlink" href="#jun-20-2016-ohbm-we-are-coming" title="Permalink to this headline"></a></h3>
<p>New feature and bugfix release</p>
<ul class="simple">
<li><p>greately improved documentation</p></li>
<li><p>publish command API RFing allows for custom options to annex, and
uses –to REMOTE for consistent with annex invocation</p></li>
<li><p>variety of fixes and enhancements throughout</p></li>
</ul>
</section>
<section id="jun-10-2016">
<h3>0.2.1 (Jun 10, 2016)<a class="headerlink" href="#jun-10-2016" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>variety of fixes and enhancements throughout</p></li>
</ul>
</section>
</section>
<section id="may-20-2016">
<h2>0.2 (May 20, 2016)<a class="headerlink" href="#may-20-2016" title="Permalink to this headline"></a></h2>
<p>Major RFing to switch from relying on rdf to git native submodules etc</p>
</section>
<section id="oct-14-2015">
<h2>0.1 (Oct 14, 2015)<a class="headerlink" href="#oct-14-2015" title="Permalink to this headline"></a></h2>
<p>Release primarily focusing on interface functionality including initial
publishing</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="DataLad — data management and publication multitool" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="acknowledgements.html" class="btn btn-neutral float-right" title="Acknowledgments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>